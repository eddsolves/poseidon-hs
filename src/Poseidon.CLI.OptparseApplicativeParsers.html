<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Poseidon.CLI.OptparseApplicativeParsers</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.CLI.List.html"><span class="hs-identifier">Poseidon.CLI.List</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.CLI.List.html#ListEntity"><span class="hs-identifier">ListEntity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>                                          </span><span class="annot"><a href="Poseidon.CLI.List.html#RepoLocationSpec"><span class="hs-identifier">RepoLocationSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.EntitiesList.html"><span class="hs-identifier">Poseidon.EntitiesList</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.EntitiesList.html#EntitiesList"><span class="hs-identifier">EntitiesList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#EntityInput"><span class="hs-identifier">EntityInput</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>                                          </span><span class="annot"><a href="Poseidon.EntitiesList.html#PoseidonEntity"><span class="hs-identifier">PoseidonEntity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#SignedEntitiesList"><span class="hs-identifier">SignedEntitiesList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>                                          </span><span class="annot"><a href="Poseidon.EntitiesList.html#SignedEntity"><span class="hs-identifier">SignedEntity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#readEntitiesFromString"><span class="hs-identifier">readEntitiesFromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.GenotypeData.html"><span class="hs-identifier">Poseidon.GenotypeData</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.GenotypeData.html#GenoDataSource"><span class="hs-identifier">GenoDataSource</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>                                          </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeDataSpec"><span class="hs-identifier">GenotypeDataSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>                                          </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier">GenotypeFormatSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>                                          </span><span class="annot"><a href="Poseidon.GenotypeData.html#SNPSetSpec"><span class="hs-identifier">SNPSetSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.SecondaryTypes.html"><span class="hs-identifier">Poseidon.SecondaryTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier">ContributorSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>                                          </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier">VersionComponent</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>                                          </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#contributorSpecParser"><span class="hs-identifier">contributorSpecParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>                                          </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#poseidonVersionParser"><span class="hs-identifier">poseidonVersionParser</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">runParser</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.Utils.html"><span class="hs-identifier">Poseidon.Utils</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.Utils.html#LogMode"><span class="hs-identifier">LogMode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Version</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Version</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Options.Applicative</span></span><span>     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OP</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">SequenceFormats.Plink</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PlinkPopNameMode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PlinkPopNameAsBoth</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PlinkPopNameAsFamily</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PlinkPopNameAsPhenotype</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">System.FilePath</span></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">dropExtension</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">takeExtension</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;.&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Text.Read</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">readMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePoseidonVersion"><span class="hs-identifier hs-type">parsePoseidonVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Version</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span id="parsePoseidonVersion"><span class="annot"><span class="annottext">parsePoseidonVersion :: Parser (Maybe Version)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePoseidonVersion"><span class="hs-identifier hs-var hs-var">parsePoseidonVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath Version
</span><a href="#local-6989586621679495323"><span class="hs-identifier hs-var">readPoseidonVersionString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;poseidonVersion&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Poseidon version the packages should be updated to: \
            \e.g. \&quot;2.5.3\&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="#local-6989586621679495323"><span class="hs-identifier hs-type">readPoseidonVersionString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Version</span></span><span>
</span><span id="line-38"></span><span>        </span><span id="local-6989586621679495323"><span class="annot"><span class="annottext">readPoseidonVersionString :: FilePath -&gt; Either FilePath Version
</span><a href="#local-6989586621679495323"><span class="hs-identifier hs-var hs-var">readPoseidonVersionString</span></a></span></span><span> </span><span id="local-6989586621679495318"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495318"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall s t u a.
Stream s Identity t =&gt;
Parsec s u a -&gt; u -&gt; FilePath -&gt; s -&gt; Either ParseError a
</span><span class="hs-identifier hs-var">runParser</span></span><span> </span><span class="annot"><span class="annottext">Parser Version
</span><a href="Poseidon.SecondaryTypes.html#poseidonVersionParser"><span class="hs-identifier hs-var">poseidonVersionParser</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495318"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-39"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679495317"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679495317"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679495317"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679495315"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679495315"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679495315"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseLogMode"><span class="hs-identifier hs-type">parseLogMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.Utils.html#LogMode"><span class="hs-identifier hs-type">LogMode</span></a></span><span>
</span><span id="line-43"></span><span id="parseLogMode"><span class="annot"><span class="annottext">parseLogMode :: Parser LogMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseLogMode"><span class="hs-identifier hs-var hs-var">parseLogMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath LogMode
</span><a href="#local-6989586621679495313"><span class="hs-identifier hs-var">readLogMode</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;logMode&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;How information should be reported: \
            \NoLog, SimpleLog, DefaultLog, ServerLog or VerboseLog&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#DefaultLog"><span class="hs-identifier hs-var">DefaultLog</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="#local-6989586621679495313"><span class="hs-identifier hs-type">readLogMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.Utils.html#LogMode"><span class="hs-identifier hs-type">LogMode</span></a></span><span>
</span><span id="line-52"></span><span>        </span><span id="local-6989586621679495313"><span class="annot"><span class="annottext">readLogMode :: FilePath -&gt; Either FilePath LogMode
</span><a href="#local-6989586621679495313"><span class="hs-identifier hs-var hs-var">readLogMode</span></a></span></span><span> </span><span id="local-6989586621679495311"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495311"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495311"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-53"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;NoLog&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#NoLog"><span class="hs-identifier hs-var">NoLog</span></a></span><span>
</span><span id="line-54"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;SimpleLog&quot;</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#SimpleLog"><span class="hs-identifier hs-var">SimpleLog</span></a></span><span>
</span><span id="line-55"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;DefaultLog&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#DefaultLog"><span class="hs-identifier hs-var">DefaultLog</span></a></span><span>
</span><span id="line-56"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ServerLog&quot;</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#ServerLog"><span class="hs-identifier hs-var">ServerLog</span></a></span><span>
</span><span id="line-57"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;VerboseLog&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">LogMode
</span><a href="Poseidon.Utils.html#VerboseLog"><span class="hs-identifier hs-var">VerboseLog</span></a></span><span>
</span><span id="line-58"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be NoLog, SimpleLog, DefaultLog, ServerLog or VerboseLog&quot;</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">data</span><span> </span><span id="ErrorLength"><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#ErrorLength"><span class="hs-identifier hs-var">ErrorLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CharInf"><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#CharInf"><span class="hs-identifier hs-var">CharInf</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="CharCount"><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#CharCount"><span class="hs-identifier hs-var">CharCount</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679495296"><span id="local-6989586621679495298"><span id="local-6989586621679495303"><span class="annot"><span class="annottext">Int -&gt; ErrorLength -&gt; ShowS
[ErrorLength] -&gt; ShowS
ErrorLength -&gt; FilePath
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; FilePath) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ErrorLength] -&gt; ShowS
$cshowList :: [ErrorLength] -&gt; ShowS
show :: ErrorLength -&gt; FilePath
$cshow :: ErrorLength -&gt; FilePath
showsPrec :: Int -&gt; ErrorLength -&gt; ShowS
$cshowsPrec :: Int -&gt; ErrorLength -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseErrorLength"><span class="hs-identifier hs-type">parseErrorLength</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#ErrorLength"><span class="hs-identifier hs-type">ErrorLength</span></a></span><span>
</span><span id="line-63"></span><span id="parseErrorLength"><span class="annot"><span class="annottext">parseErrorLength :: Parser ErrorLength
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseErrorLength"><span class="hs-identifier hs-var hs-var">parseErrorLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath ErrorLength
</span><a href="#local-6989586621679495293"><span class="hs-identifier hs-var">readErrorLengthString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;errLength&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;After how many characters should a potential error message be truncated. \&quot;Inf\&quot; for no truncation.&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ErrorLength
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#CharCount"><span class="hs-identifier hs-var">CharCount</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1500</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="#local-6989586621679495293"><span class="hs-identifier hs-type">readErrorLengthString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#ErrorLength"><span class="hs-identifier hs-type">ErrorLength</span></a></span><span>
</span><span id="line-70"></span><span>        </span><span id="local-6989586621679495293"><span class="annot"><span class="annottext">readErrorLengthString :: FilePath -&gt; Either FilePath ErrorLength
</span><a href="#local-6989586621679495293"><span class="hs-identifier hs-var hs-var">readErrorLengthString</span></a></span></span><span> </span><span id="local-6989586621679495292"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495292"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-71"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495292"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Inf&quot;</span></span><span>
</span><span id="line-72"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">ErrorLength
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#CharInf"><span class="hs-identifier hs-var">CharInf</span></a></span><span>
</span><span id="line-73"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. Read a =&gt; FilePath -&gt; Maybe a
</span><span class="hs-identifier hs-var">readMaybe</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495292"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-74"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679495291"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679495291"><span class="hs-identifier hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ErrorLength
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#CharCount"><span class="hs-identifier hs-var">CharCount</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679495291"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-75"></span><span>                </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be either \&quot;Inf\&quot; or an integer number&quot;</span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoveOld"><span class="hs-identifier hs-type">parseRemoveOld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-78"></span><span id="parseRemoveOld"><span class="annot"><span class="annottext">parseRemoveOld :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoveOld"><span class="hs-identifier hs-var hs-var">parseRemoveOld</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;removeOld&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Remove the old genotype files when creating the new ones&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseVersionComponent"><span class="hs-identifier hs-type">parseVersionComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier hs-type">VersionComponent</span></a></span><span>
</span><span id="line-81"></span><span id="parseVersionComponent"><span class="annot"><span class="annottext">parseVersionComponent :: Parser VersionComponent
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseVersionComponent"><span class="hs-identifier hs-var hs-var">parseVersionComponent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath VersionComponent
</span><a href="#local-6989586621679495287"><span class="hs-identifier hs-var">readVersionComponent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;versionComponent&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Part of the package version number in the POSEIDON.yml file \
            \that should be updated: \
            \Major, Minor or Patch (see https://semver.org)&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Patch"><span class="hs-identifier hs-var">Patch</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><a href="#local-6989586621679495287"><span class="hs-identifier hs-type">readVersionComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier hs-type">VersionComponent</span></a></span><span>
</span><span id="line-91"></span><span>        </span><span id="local-6989586621679495287"><span class="annot"><span class="annottext">readVersionComponent :: FilePath -&gt; Either FilePath VersionComponent
</span><a href="#local-6989586621679495287"><span class="hs-identifier hs-var hs-var">readVersionComponent</span></a></span></span><span> </span><span id="local-6989586621679495285"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495285"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495285"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-92"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Major&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Major"><span class="hs-identifier hs-var">Major</span></a></span><span>
</span><span id="line-93"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Minor&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Minor"><span class="hs-identifier hs-var">Minor</span></a></span><span>
</span><span id="line-94"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Patch&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Patch"><span class="hs-identifier hs-var">Patch</span></a></span><span>
</span><span id="line-95"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be Major, Minor or Patch&quot;</span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseNoChecksumUpdate"><span class="hs-identifier hs-type">parseNoChecksumUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-98"></span><span id="parseNoChecksumUpdate"><span class="annot"><span class="annottext">parseNoChecksumUpdate :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseNoChecksumUpdate"><span class="hs-identifier hs-var hs-var">parseNoChecksumUpdate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;noChecksumUpdate&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Should update of checksums in the POSEIDON.yml file be skipped&quot;</span></span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseContributors"><span class="hs-identifier hs-type">parseContributors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier hs-type">ContributorSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-104"></span><span id="parseContributors"><span class="annot"><span class="annottext">parseContributors :: Parser [ContributorSpec]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseContributors"><span class="hs-identifier hs-var hs-var">parseContributors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.many</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath [ContributorSpec]
</span><a href="#local-6989586621679495278"><span class="hs-identifier hs-var">readContributorString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;newContributors&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Contributors to add to the POSEIDON.yml file \
            \ in the form \&quot;[Firstname Lastname](Email address);...\&quot;&quot;</span></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>        </span><span class="annot"><a href="#local-6989586621679495278"><span class="hs-identifier hs-type">readContributorString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier hs-type">ContributorSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-111"></span><span>        </span><span id="local-6989586621679495278"><span class="annot"><span class="annottext">readContributorString :: FilePath -&gt; Either FilePath [ContributorSpec]
</span><a href="#local-6989586621679495278"><span class="hs-identifier hs-var hs-var">readContributorString</span></a></span></span><span> </span><span id="local-6989586621679495277"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495277"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall s t u a.
Stream s Identity t =&gt;
Parsec s u a -&gt; u -&gt; FilePath -&gt; s -&gt; Either ParseError a
</span><span class="hs-identifier hs-var">runParser</span></span><span> </span><span class="annot"><span class="annottext">Parser [ContributorSpec]
</span><a href="Poseidon.SecondaryTypes.html#contributorSpecParser"><span class="hs-identifier hs-var">contributorSpecParser</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495277"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-112"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679495276"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679495276"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679495276"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679495275"><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679495275"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679495275"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseLog"><span class="hs-identifier hs-type">parseLog</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-117"></span><span id="parseLog"><span class="annot"><span class="annottext">parseLog :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseLog"><span class="hs-identifier hs-var hs-var">parseLog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;logText&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Log text for this version jump in the CHANGELOG file&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;not specified&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForce"><span class="hs-identifier hs-type">parseForce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-125"></span><span id="parseForce"><span class="annot"><span class="annottext">parseForce :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForce"><span class="hs-identifier hs-var hs-var">parseForce</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;force&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Normally the POSEIDON.yml files are only changed if the \
            \poseidonVersion is adjusted or any of the checksums change. \
            \With --force a package version update can be triggered even \
            \if this is not the case.&quot;</span></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- this will also parse an empty list, which means &quot;forge everything&quot;.</span><span>
</span><span id="line-134"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntityInputs"><span class="hs-identifier hs-type">parseForgeEntityInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.EntitiesList.html#EntityInput"><span class="hs-identifier hs-type">EntityInput</span></a></span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#SignedEntity"><span class="hs-identifier hs-type">SignedEntity</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-135"></span><span id="parseForgeEntityInputs"><span class="annot"><span class="annottext">parseForgeEntityInputs :: Parser [EntityInput SignedEntity]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntityInputs"><span class="hs-identifier hs-var hs-var">parseForgeEntityInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.many</span></span><span> </span><span class="annot"><span class="annottext">Parser (EntityInput SignedEntity)
</span><a href="#local-6989586621679495270"><span class="hs-identifier hs-var">parseSignedEntityInput</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679495270"><span class="annot"><span class="annottext">parseSignedEntityInput :: Parser (EntityInput SignedEntity)
</span><a href="#local-6989586621679495270"><span class="hs-identifier hs-var hs-var">parseSignedEntityInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FilePath -&gt; EntityInput a
</span><a href="Poseidon.EntitiesList.html#EntitiesFromFile"><span class="hs-identifier hs-var">EntitiesFromFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesFromFile"><span class="hs-identifier hs-var">parseForgeEntitiesFromFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; EntityInput a
</span><a href="Poseidon.EntitiesList.html#EntitiesDirect"><span class="hs-identifier hs-var">EntitiesDirect</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser SignedEntitiesList
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesDirect"><span class="hs-identifier hs-var">parseForgeEntitiesDirect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">--this will not parse an empty list, but requires the user to specify `downloadAll`. I made this decision to not change the API</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- for the user, even though internally &quot;downloadAll&quot; is represented as an empty list.</span><span>
</span><span id="line-141"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntityInputs"><span class="hs-identifier hs-type">parseFetchEntityInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.EntitiesList.html#EntityInput"><span class="hs-identifier hs-type">EntityInput</span></a></span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#PoseidonEntity"><span class="hs-identifier hs-type">PoseidonEntity</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span id="parseFetchEntityInputs"><span class="annot"><span class="annottext">parseFetchEntityInputs :: Parser [EntityInput PoseidonEntity]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntityInputs"><span class="hs-identifier hs-var hs-var">parseFetchEntityInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. Parser [a]
</span><a href="#local-6989586621679495261"><span class="hs-identifier hs-var">parseDownloadAll</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.some</span></span><span> </span><span class="annot"><span class="annottext">Parser (EntityInput PoseidonEntity)
</span><a href="#local-6989586621679495259"><span class="hs-identifier hs-var">parseEntityInput</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>    </span><span id="local-6989586621679495261"><span class="annot"><span class="annottext">parseDownloadAll :: Parser [a]
</span><a href="#local-6989586621679495261"><span class="hs-identifier hs-var hs-var">parseDownloadAll</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Mod FlagFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.flag'</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;downloadAll&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;download all packages the server is offering&quot;</span></span><span>
</span><span id="line-147"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>    </span><span id="local-6989586621679495259"><span class="annot"><span class="annottext">parseEntityInput :: Parser (EntityInput PoseidonEntity)
</span><a href="#local-6989586621679495259"><span class="hs-identifier hs-var hs-var">parseEntityInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FilePath -&gt; EntityInput a
</span><a href="Poseidon.EntitiesList.html#EntitiesFromFile"><span class="hs-identifier hs-var">EntitiesFromFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesFromFile"><span class="hs-identifier hs-var">parseFetchEntitiesFromFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; EntityInput a
</span><a href="Poseidon.EntitiesList.html#EntitiesDirect"><span class="hs-identifier hs-var">EntitiesDirect</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser EntitiesList
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesDirect"><span class="hs-identifier hs-var">parseFetchEntitiesDirect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnorePoseidonVersion"><span class="hs-identifier hs-type">parseIgnorePoseidonVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-152"></span><span id="parseIgnorePoseidonVersion"><span class="annot"><span class="annottext">parseIgnorePoseidonVersion :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnorePoseidonVersion"><span class="hs-identifier hs-var hs-var">parseIgnorePoseidonVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ignorePoseidonVersion&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Read packages even if their poseidonVersion is not compatible with the trident version. \
        \The assumption is, that the package is already structurally adjusted to the trident version \
        \and only the version number is lagging behind.&quot;</span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesDirect"><span class="hs-identifier hs-type">parseForgeEntitiesDirect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#SignedEntitiesList"><span class="hs-identifier hs-type">SignedEntitiesList</span></a></span><span>
</span><span id="line-160"></span><span id="parseForgeEntitiesDirect"><span class="annot"><span class="annottext">parseForgeEntitiesDirect :: Parser SignedEntitiesList
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesDirect"><span class="hs-identifier hs-var hs-var">parseForgeEntitiesDirect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. EntitySpec a =&gt; FilePath -&gt; Either FilePath [a]
</span><a href="#local-6989586621679495249"><span class="hs-identifier hs-var">readSignedEntities</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;forgeString&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'f'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;List of packages, groups or individual samples to be combined in the output package. \
        \Packages follow the syntax *package_title*, populations/groups are simply group_id and individuals \
        \&lt;individual_id&gt;. You can combine multiple values with comma, so for example: \
        \\&quot;*package_1*, &lt;individual_1&gt;, &lt;individual_2&gt;, group_1\&quot;. Duplicates are treated as one entry. \
        \Negative selection is possible by prepending \&quot;-\&quot; to the entity you want to exclude \
        \(e.g. \&quot;*package_1*, -&lt;individual_1&gt;, -group_1\&quot;). \
        \forge will apply excludes and includes in order. If the first entity is negative, then forge \
        \will assume you want to merge all individuals in the packages found in the baseDirs (except the \
        \ones explicitly excluded) before the exclude entities are applied. \
        \An empty forgeString (and no --forgeFile) will therefore merge all available individuals. \
        \If there are individuals in your input packages with equal individual id, but different main group or \
        \source package, they can be specified with the special syntax \&quot;&lt;package:group:individual&gt;\&quot;.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>    </span><span id="local-6989586621679495249"><span class="annot"><span class="annottext">readSignedEntities :: FilePath -&gt; Either FilePath [a]
</span><a href="#local-6989586621679495249"><span class="hs-identifier hs-var hs-var">readSignedEntities</span></a></span></span><span> </span><span id="local-6989586621679495243"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495243"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. EntitySpec a =&gt; FilePath -&gt; Either PoseidonException [a]
</span><a href="Poseidon.EntitiesList.html#readEntitiesFromString"><span class="hs-identifier hs-var">readEntitiesFromString</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495243"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679495242"><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679495242"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679495242"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679495241"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679495241"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679495241"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesDirect"><span class="hs-identifier hs-type">parseFetchEntitiesDirect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.EntitiesList.html#EntitiesList"><span class="hs-identifier hs-type">EntitiesList</span></a></span><span>
</span><span id="line-180"></span><span id="parseFetchEntitiesDirect"><span class="annot"><span class="annottext">parseFetchEntitiesDirect :: Parser EntitiesList
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesDirect"><span class="hs-identifier hs-var hs-var">parseFetchEntitiesDirect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. EntitySpec a =&gt; FilePath -&gt; Either FilePath [a]
</span><a href="#local-6989586621679495240"><span class="hs-identifier hs-var">readEntities</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;fetchString&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-181"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'f'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;List of packages to be downloaded from the remote server. \
        \Package names should be wrapped in asterisks: *package_title*. \
        \You can combine multiple values with comma, so for example: \&quot;*package_1*, *package_2*, *package_3*\&quot;. \
        \fetchString uses the same parser as forgeString, but does not allow excludes. If groups or individuals are \
        \specified, then packages which include these groups or individuals are included in the download.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-188"></span><span>    </span><span id="local-6989586621679495240"><span class="annot"><span class="annottext">readEntities :: FilePath -&gt; Either FilePath [a]
</span><a href="#local-6989586621679495240"><span class="hs-identifier hs-var hs-var">readEntities</span></a></span></span><span> </span><span id="local-6989586621679495236"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495236"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. EntitySpec a =&gt; FilePath -&gt; Either PoseidonException [a]
</span><a href="Poseidon.EntitiesList.html#readEntitiesFromString"><span class="hs-identifier hs-var">readEntitiesFromString</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495236"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679495235"><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679495235"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679495235"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679495234"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679495234"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679495234"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesFromFile"><span class="hs-identifier hs-type">parseForgeEntitiesFromFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-193"></span><span id="parseForgeEntitiesFromFile"><span class="annot"><span class="annottext">parseForgeEntitiesFromFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseForgeEntitiesFromFile"><span class="hs-identifier hs-var hs-var">parseForgeEntitiesFromFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;forgeFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-194"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;A file with a list of packages, groups or individual samples. \
        \Works just as -f, but multiple values can also be separated by newline, not just by comma. \
        \Empty lines are ignored and comments start with \&quot;#\&quot;, so everything after \&quot;#\&quot; is ignored \
        \in one line. \
        \Multiple instances of -f and --forgeFile can be given. They will be evaluated according to their \
        \input order on the command line.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesFromFile"><span class="hs-identifier hs-type">parseFetchEntitiesFromFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-202"></span><span id="parseFetchEntitiesFromFile"><span class="annot"><span class="annottext">parseFetchEntitiesFromFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFetchEntitiesFromFile"><span class="hs-identifier hs-var hs-var">parseFetchEntitiesFromFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;fetchFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;A file with a list of packages. \
        \Works just as -f, but multiple values can also be separated by newline, not just by comma. \
        \-f and --fetchFile can be combined.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIntersect"><span class="hs-identifier hs-type">parseIntersect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-208"></span><span id="parseIntersect"><span class="annot"><span class="annottext">parseIntersect :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIntersect"><span class="hs-identifier hs-var hs-var">parseIntersect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;intersect&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Whether to output the intersection of the genotype files to be forged. \
        \The default (if this option is not set) is to output the union of all SNPs, with genotypes \
        \defined as missing in those packages which do not have a SNP that is present in another package. \
        \With this option set, the forged dataset will typically have fewer SNPs, but less missingness.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteDummy"><span class="hs-identifier hs-type">parseRemoteDummy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span id="parseRemoteDummy"><span class="annot"><span class="annottext">parseRemoteDummy :: Parser ()
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteDummy"><span class="hs-identifier hs-var hs-var">parseRemoteDummy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Mod FlagFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.flag'</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;remote&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;list packages from a remote server instead the local file system&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutGenotypeFormat"><span class="hs-identifier hs-type">parseOutGenotypeFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier hs-type">GenotypeFormatSpec</span></a></span><span>
</span><span id="line-218"></span><span id="parseOutGenotypeFormat"><span class="annot"><span class="annottext">parseOutGenotypeFormat :: Bool -&gt; Parser GenotypeFormatSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutGenotypeFormat"><span class="hs-identifier hs-var hs-var">parseOutGenotypeFormat</span></a></span></span><span> </span><span id="local-6989586621679495230"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679495230"><span class="hs-identifier hs-var">withDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679495230"><span class="hs-identifier hs-var">withDefault</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath GenotypeFormatSpec
</span><a href="#local-6989586621679495229"><span class="hs-identifier hs-var">readGenotypeFormat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Mod OptionFields GenotypeFormatSpec
</span><a href="#local-6989586621679495228"><span class="hs-identifier hs-var">settingsWithDefault</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath GenotypeFormatSpec
</span><a href="#local-6989586621679495229"><span class="hs-identifier hs-var">readGenotypeFormat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall {a}. Mod OptionFields a
</span><a href="#local-6989586621679495227"><span class="hs-identifier hs-var">settingsWithoutDefault</span></a></span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679495228"><span class="annot"><span class="annottext">settingsWithDefault :: Mod OptionFields GenotypeFormatSpec
</span><a href="#local-6989586621679495228"><span class="hs-identifier hs-var hs-var">settingsWithDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-224"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the format of the output genotype data: EIGENSTRAT or PLINK. Default: PLINK&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatPlink"><span class="hs-identifier hs-var">GenotypeFormatPlink</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621679495227"><span class="annot"><span class="annottext">settingsWithoutDefault :: Mod OptionFields a
</span><a href="#local-6989586621679495227"><span class="hs-identifier hs-var hs-var">settingsWithoutDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the format of the output genotype data: EIGENSTRAT or PLINK.&quot;</span></span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><a href="#local-6989586621679495229"><span class="hs-identifier hs-type">readGenotypeFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier hs-type">GenotypeFormatSpec</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621679495229"><span class="annot"><span class="annottext">readGenotypeFormat :: FilePath -&gt; Either FilePath GenotypeFormatSpec
</span><a href="#local-6989586621679495229"><span class="hs-identifier hs-var hs-var">readGenotypeFormat</span></a></span></span><span> </span><span id="local-6989586621679495219"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495219"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495219"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;EIGENSTRAT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatEigenstrat"><span class="hs-identifier hs-var">GenotypeFormatEigenstrat</span></a></span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;PLINK&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatPlink"><span class="hs-identifier hs-var">GenotypeFormatPlink</span></a></span><span>
</span><span id="line-232"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be EIGENSTRAT or PLINK&quot;</span></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenoDataSources"><span class="hs-identifier hs-type">parseGenoDataSources</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.GenotypeData.html#GenoDataSource"><span class="hs-identifier hs-type">GenoDataSource</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-235"></span><span id="parseGenoDataSources"><span class="annot"><span class="annottext">parseGenoDataSources :: Parser [GenoDataSource]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenoDataSources"><span class="hs-identifier hs-var hs-var">parseGenoDataSources</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.some</span></span><span> </span><span class="annot"><span class="annottext">Parser GenoDataSource
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenoDataSource"><span class="hs-identifier hs-var">parseGenoDataSource</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenoDataSource"><span class="hs-identifier hs-type">parseGenoDataSource</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenoDataSource"><span class="hs-identifier hs-type">GenoDataSource</span></a></span><span>
</span><span id="line-238"></span><span id="parseGenoDataSource"><span class="annot"><span class="annottext">parseGenoDataSource :: Parser GenoDataSource
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenoDataSource"><span class="hs-identifier hs-var hs-var">parseGenoDataSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; GenoDataSource
</span><a href="Poseidon.GenotypeData.html#PacBaseDir"><span class="hs-identifier hs-var">PacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePath"><span class="hs-identifier hs-var">parseBasePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; GenoDataSource
</span><a href="Poseidon.GenotypeData.html#GenoDirect"><span class="hs-identifier hs-var">GenoDirect</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser GenotypeDataSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeDataset"><span class="hs-identifier hs-var">parseInGenotypeDataset</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRepoLocation"><span class="hs-identifier hs-type">parseRepoLocation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.List.html#RepoLocationSpec"><span class="hs-identifier hs-type">RepoLocationSpec</span></a></span><span>
</span><span id="line-241"></span><span id="parseRepoLocation"><span class="annot"><span class="annottext">parseRepoLocation :: Parser RepoLocationSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRepoLocation"><span class="hs-identifier hs-var hs-var">parseRepoLocation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; RepoLocationSpec
</span><a href="Poseidon.CLI.List.html#RepoLocal"><span class="hs-identifier hs-var">RepoLocal</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser [FilePath]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePaths"><span class="hs-identifier hs-var">parseBasePaths</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteDummy"><span class="hs-identifier hs-var">parseRemoteDummy</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; RepoLocationSpec
</span><a href="Poseidon.CLI.List.html#RepoRemote"><span class="hs-identifier hs-var">RepoRemote</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteURL"><span class="hs-identifier hs-var">parseRemoteURL</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePaths"><span class="hs-identifier hs-type">parseBasePaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">]</span><span>
</span><span id="line-244"></span><span id="parseBasePaths"><span class="annot"><span class="annottext">parseBasePaths :: Parser [FilePath]
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePaths"><span class="hs-identifier hs-var hs-var">parseBasePaths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.some</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePath"><span class="hs-identifier hs-var">parseBasePath</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePath"><span class="hs-identifier hs-type">parseBasePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-247"></span><span id="parseBasePath"><span class="annot"><span class="annottext">parseBasePath :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseBasePath"><span class="hs-identifier hs-var hs-var">parseBasePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;baseDir&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'d'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;DIR&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;a base directory to search for Poseidon Packages (could be a Poseidon repository)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeDataset"><span class="hs-identifier hs-type">parseInGenotypeDataset</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeDataSpec"><span class="hs-identifier hs-type">GenotypeDataSpec</span></a></span><span>
</span><span id="line-253"></span><span id="parseInGenotypeDataset"><span class="annot"><span class="annottext">parseInGenotypeDataset :: Parser GenotypeDataSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeDataset"><span class="hs-identifier hs-var hs-var">parseInGenotypeDataset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenoInput -&gt; Maybe SNPSetSpec -&gt; GenotypeDataSpec
</span><a href="#local-6989586621679495205"><span class="hs-identifier hs-var">createGeno</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser GenoInput
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoOne"><span class="hs-identifier hs-var">parseInGenoOne</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser GenoInput
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoSep"><span class="hs-identifier hs-var">parseInGenoSep</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe SNPSetSpec)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenotypeSNPSet"><span class="hs-identifier hs-var">parseGenotypeSNPSet</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>        </span><span class="annot"><a href="#local-6989586621679495205"><span class="hs-identifier hs-type">createGeno</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#GenoInput"><span class="hs-identifier hs-type">GenoInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#SNPSetSpec"><span class="hs-identifier hs-type">SNPSetSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeDataSpec"><span class="hs-identifier hs-type">GenotypeDataSpec</span></a></span><span>
</span><span id="line-256"></span><span>        </span><span id="local-6989586621679495205"><span class="annot"><span class="annottext">createGeno :: GenoInput -&gt; Maybe SNPSetSpec -&gt; GenotypeDataSpec
</span><a href="#local-6989586621679495205"><span class="hs-identifier hs-var hs-var">createGeno</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679495201"><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="#local-6989586621679495201"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679495200"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495200"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679495199"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495199"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679495198"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495198"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679495197"><span class="annot"><span class="annottext">Maybe SNPSetSpec
</span><a href="#local-6989586621679495197"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
-&gt; FilePath
-&gt; Maybe FilePath
-&gt; FilePath
-&gt; Maybe FilePath
-&gt; FilePath
-&gt; Maybe FilePath
-&gt; Maybe SNPSetSpec
-&gt; GenotypeDataSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeDataSpec"><span class="hs-identifier hs-var">GenotypeDataSpec</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="#local-6989586621679495201"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495200"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495199"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495198"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe SNPSetSpec
</span><a href="#local-6989586621679495197"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-keyword">type</span><span> </span><span id="GenoInput"><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#GenoInput"><span class="hs-identifier hs-var">GenoInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier hs-type">GenotypeFormatSpec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoOne"><span class="hs-identifier hs-type">parseInGenoOne</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#GenoInput"><span class="hs-identifier hs-type">GenoInput</span></a></span><span>
</span><span id="line-261"></span><span id="parseInGenoOne"><span class="annot"><span class="annottext">parseInGenoOne :: Parser GenoInput
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoOne"><span class="hs-identifier hs-var hs-var">parseInGenoOne</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath GenoInput
</span><a href="#local-6989586621679495195"><span class="hs-identifier hs-var">readGenoInput</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'p'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;genoOne&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span>
</span><span id="line-263"></span><span>            </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;one of the input genotype data files. Expects\
            \ .bed  or .bim or .fam for PLINK and\
            \ .geno or .snp or .ind for EIGENSTRAT.\
            \ The other files must be in the same directory and must have the same base name&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>        </span><span class="annot"><a href="#local-6989586621679495195"><span class="hs-identifier hs-type">readGenoInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#GenoInput"><span class="hs-identifier hs-type">GenoInput</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span id="local-6989586621679495195"><span class="annot"><span class="annottext">readGenoInput :: FilePath -&gt; Either FilePath GenoInput
</span><a href="#local-6989586621679495195"><span class="hs-identifier hs-var hs-var">readGenoInput</span></a></span></span><span> </span><span id="local-6989586621679495194"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495194"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; Either FilePath GenoInput
</span><a href="#local-6989586621679495193"><span class="hs-identifier hs-var">makeGenoInput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><span class="hs-identifier hs-var">dropExtension</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495194"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><span class="hs-identifier hs-var">takeExtension</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495194"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621679495193"><span class="annot"><span class="annottext">makeGenoInput :: FilePath -&gt; FilePath -&gt; Either FilePath GenoInput
</span><a href="#local-6989586621679495193"><span class="hs-identifier hs-var hs-var">makeGenoInput</span></a></span></span><span> </span><span id="local-6989586621679495178"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679495177"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495177"><span class="hs-identifier hs-var">ext</span></a></span></span><span>
</span><span id="line-271"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495177"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.geno&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.snp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.ind&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-272"></span><span>                </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatEigenstrat"><span class="hs-identifier hs-var">GenotypeFormatEigenstrat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;geno&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;snp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ind&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495177"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.bed&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.bim&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.fam&quot;</span></span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>                </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatPlink"><span class="hs-identifier hs-var">GenotypeFormatPlink</span></a></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;bed&quot;</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;bim&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495178"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShowS
</span><span class="hs-operator hs-var">&lt;.&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;fam&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;unknown file extension: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495177"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoSep"><span class="hs-identifier hs-type">parseInGenoSep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#GenoInput"><span class="hs-identifier hs-type">GenoInput</span></a></span><span>
</span><span id="line-278"></span><span id="parseInGenoSep"><span class="annot"><span class="annottext">parseInGenoSep :: Parser GenoInput
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoSep"><span class="hs-identifier hs-var hs-var">parseInGenoSep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser GenotypeFormatSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeFormat"><span class="hs-identifier hs-var">parseInGenotypeFormat</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoFile"><span class="hs-identifier hs-var">parseInGenoFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInSnpFile"><span class="hs-identifier hs-var">parseInSnpFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInIndFile"><span class="hs-identifier hs-var">parseInIndFile</span></a></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeFormat"><span class="hs-identifier hs-type">parseInGenotypeFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier hs-type">GenotypeFormatSpec</span></a></span><span>
</span><span id="line-281"></span><span id="parseInGenotypeFormat"><span class="annot"><span class="annottext">parseInGenotypeFormat :: Parser GenotypeFormatSpec
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenotypeFormat"><span class="hs-identifier hs-var hs-var">parseInGenotypeFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath GenotypeFormatSpec
</span><a href="#local-6989586621679495171"><span class="hs-identifier hs-var">readGenotypeFormat</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-282"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;inFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the format of the input genotype data: EIGENSTRAT or PLINK\
            \ (only necessary for data input with --genoFile + --snpFile + --indFile)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><a href="#local-6989586621679495171"><span class="hs-identifier hs-type">readGenotypeFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeFormatSpec"><span class="hs-identifier hs-type">GenotypeFormatSpec</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span id="local-6989586621679495171"><span class="annot"><span class="annottext">readGenotypeFormat :: FilePath -&gt; Either FilePath GenotypeFormatSpec
</span><a href="#local-6989586621679495171"><span class="hs-identifier hs-var hs-var">readGenotypeFormat</span></a></span></span><span> </span><span id="local-6989586621679495170"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495170"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495170"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;EIGENSTRAT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatEigenstrat"><span class="hs-identifier hs-var">GenotypeFormatEigenstrat</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;PLINK&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">GenotypeFormatSpec
</span><a href="Poseidon.GenotypeData.html#GenotypeFormatPlink"><span class="hs-identifier hs-var">GenotypeFormatPlink</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be EIGENSTRAT or PLINK&quot;</span></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoFile"><span class="hs-identifier hs-type">parseInGenoFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-293"></span><span id="parseInGenoFile"><span class="annot"><span class="annottext">parseInGenoFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInGenoFile"><span class="hs-identifier hs-var hs-var">parseInGenoFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;genoFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the input geno file path&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInSnpFile"><span class="hs-identifier hs-type">parseInSnpFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-298"></span><span id="parseInSnpFile"><span class="annot"><span class="annottext">parseInSnpFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInSnpFile"><span class="hs-identifier hs-var hs-var">parseInSnpFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;snpFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the input snp file path&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInIndFile"><span class="hs-identifier hs-type">parseInIndFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-303"></span><span id="parseInIndFile"><span class="annot"><span class="annottext">parseInIndFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInIndFile"><span class="hs-identifier hs-var hs-var">parseInIndFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;indFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the input ind file path&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenotypeSNPSet"><span class="hs-identifier hs-type">parseGenotypeSNPSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#SNPSetSpec"><span class="hs-identifier hs-type">SNPSetSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span id="parseGenotypeSNPSet"><span class="annot"><span class="annottext">parseGenotypeSNPSet :: Parser (Maybe SNPSetSpec)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseGenotypeSNPSet"><span class="hs-identifier hs-var hs-var">parseGenotypeSNPSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath SNPSetSpec
</span><a href="#local-6989586621679495169"><span class="hs-identifier hs-var">readSnpSet</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;snpSet&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the snpSet of the package: 1240K, HumanOrigins or Other. \
            \(only relevant for data input with -p|--genoOne or --genoFile + --snpFile + --indFile, \
            \because the packages in a -d|--baseDir already have this information in their respective \
            \POSEIDON.yml files) Default: Other&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-313"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SNPSetSpec
</span><a href="Poseidon.GenotypeData.html#SNPSetOther"><span class="hs-identifier hs-var">SNPSetOther</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>    </span><span class="annot"><a href="#local-6989586621679495169"><span class="hs-identifier hs-type">readSnpSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Poseidon.GenotypeData.html#SNPSetSpec"><span class="hs-identifier hs-type">SNPSetSpec</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621679495169"><span class="annot"><span class="annottext">readSnpSet :: FilePath -&gt; Either FilePath SNPSetSpec
</span><a href="#local-6989586621679495169"><span class="hs-identifier hs-var hs-var">readSnpSet</span></a></span></span><span> </span><span id="local-6989586621679495167"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495167"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495167"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-317"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;1240K&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SNPSetSpec
</span><a href="Poseidon.GenotypeData.html#SNPSet1240K"><span class="hs-identifier hs-var">SNPSet1240K</span></a></span><span>
</span><span id="line-318"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;HumanOrigins&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SNPSetSpec
</span><a href="Poseidon.GenotypeData.html#SNPSetHumanOrigins"><span class="hs-identifier hs-var">SNPSetHumanOrigins</span></a></span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Other&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SNPSetSpec
</span><a href="Poseidon.GenotypeData.html#SNPSetOther"><span class="hs-identifier hs-var">SNPSetOther</span></a></span><span>
</span><span id="line-320"></span><span>        </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Could not read snpSet. Must be \&quot;1240K\&quot;, \
                                \\&quot;HumanOrigins\&quot; or \&quot;Other\&quot;&quot;</span></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutPackagePath"><span class="hs-identifier hs-type">parseOutPackagePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-324"></span><span id="parseOutPackagePath"><span class="annot"><span class="annottext">parseOutPackagePath :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutPackagePath"><span class="hs-identifier hs-var hs-var">parseOutPackagePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outPackagePath&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'o'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the output package directory path&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeOutPackagePath"><span class="hs-identifier hs-type">parseMaybeOutPackagePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span id="parseMaybeOutPackagePath"><span class="annot"><span class="annottext">parseMaybeOutPackagePath :: Parser (Maybe FilePath)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeOutPackagePath"><span class="hs-identifier hs-var hs-var">parseMaybeOutPackagePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; ReadM s
</span><span class="hs-identifier hs-var">OP.str</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'o'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outPackagePath&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the output package directory path - this is optional: If no path is provided, \
            \then the output is written to the directories where the input genotype data file \
            \(.bed/.geno) is stored&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeOutPackageName"><span class="hs-identifier hs-type">parseMaybeOutPackageName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span id="parseMaybeOutPackageName"><span class="annot"><span class="annottext">parseMaybeOutPackageName :: Parser (Maybe FilePath)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeOutPackageName"><span class="hs-identifier hs-var hs-var">parseMaybeOutPackageName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; ReadM s
</span><span class="hs-identifier hs-var">OP.str</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'n'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outPackageName&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the output package name - this is optional: If no name is provided, \
            \then the package name defaults to the basename of the (mandatory) \
            \--outPackagePath argument&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMakeMinimalPackage"><span class="hs-identifier hs-type">parseMakeMinimalPackage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-349"></span><span id="parseMakeMinimalPackage"><span class="annot"><span class="annottext">parseMakeMinimalPackage :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMakeMinimalPackage"><span class="hs-identifier hs-var hs-var">parseMakeMinimalPackage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;minimal&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;should only a minimal output package be created?&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutOnlyGeno"><span class="hs-identifier hs-type">parseOutOnlyGeno</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-353"></span><span id="parseOutOnlyGeno"><span class="annot"><span class="annottext">parseOutOnlyGeno :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutOnlyGeno"><span class="hs-identifier hs-var hs-var">parseOutOnlyGeno</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;onlyGeno&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;should only the resulting genotype data be returned? This means the output will not be a Poseidon package&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePackageWise"><span class="hs-identifier hs-type">parsePackageWise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-357"></span><span id="parsePackageWise"><span class="annot"><span class="annottext">parsePackageWise :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePackageWise"><span class="hs-identifier hs-var hs-var">parsePackageWise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;packagewise&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Skip the within-package selection step in forge. \
    \This will result in \
    \outputting all individuals in the relevant packages, and hence a superset of the requested \
    \individuals/groups. It may result in better performance in cases where one wants to forge entire packages or \
    \almost entire packages. Details: Forge conceptually performs two types of selection: First, it identifies which packages in the supplied base directories are relevant to the requested forge, i.e. whether they are either explicitly listed using *PackageName*, or because they contain selected individuals or groups. Second, within each relevant package, individuals which are not requested are removed. This option skips only the second step, but still performs the first.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeSnpFile"><span class="hs-identifier hs-type">parseMaybeSnpFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span id="parseMaybeSnpFile"><span class="annot"><span class="annottext">parseMaybeSnpFile :: Parser (Maybe FilePath)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeSnpFile"><span class="hs-identifier hs-var hs-var">parseMaybeSnpFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; ReadM s
</span><span class="hs-identifier hs-var">OP.str</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;selectSnps&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-365"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;To extract specific SNPs during this forge operation, provide a Snp file. \
    \Can be either Eigenstrat (file ending must be '.snp') or Plink (file ending must be '.bim'). \
    \When this option is set, the output package will have exactly the SNPs listed in this file. Any SNP not \
    \listed in the file will be excluded. If option '--intersect' is also set, only the SNPs overlapping between the SNP file \
    \and the forged packages are output.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseListEntity"><span class="hs-identifier hs-type">parseListEntity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><a href="Poseidon.CLI.List.html#ListEntity"><span class="hs-identifier hs-type">ListEntity</span></a></span><span>
</span><span id="line-372"></span><span id="parseListEntity"><span class="annot"><span class="annottext">parseListEntity :: Parser ListEntity
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseListEntity"><span class="hs-identifier hs-var hs-var">parseListEntity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ListEntity
</span><a href="#local-6989586621679495155"><span class="hs-identifier hs-var">parseListPackages</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser ListEntity
</span><a href="#local-6989586621679495154"><span class="hs-identifier hs-var">parseListGroups</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="#local-6989586621679495153"><span class="hs-identifier hs-var">parseListIndividualsDummy</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser ListEntity
</span><a href="#local-6989586621679495152"><span class="hs-identifier hs-var">parseListIndividualsExtraCols</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621679495155"><span class="annot"><span class="annottext">parseListPackages :: Parser ListEntity
</span><a href="#local-6989586621679495155"><span class="hs-identifier hs-var hs-var">parseListPackages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Mod FlagFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.flag'</span></span><span> </span><span class="annot"><span class="annottext">ListEntity
</span><a href="Poseidon.CLI.List.html#ListPackages"><span class="hs-identifier hs-var">ListPackages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;packages&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;list all packages&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621679495154"><span class="annot"><span class="annottext">parseListGroups :: Parser ListEntity
</span><a href="#local-6989586621679495154"><span class="hs-identifier hs-var hs-var">parseListGroups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Mod FlagFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.flag'</span></span><span> </span><span class="annot"><span class="annottext">ListEntity
</span><a href="Poseidon.CLI.List.html#ListGroups"><span class="hs-identifier hs-var">ListGroups</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;groups&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;list all groups, ignoring any group names after the first as specified in the Janno-file&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621679495153"><span class="annot"><span class="annottext">parseListIndividualsDummy :: Parser ()
</span><a href="#local-6989586621679495153"><span class="hs-identifier hs-var hs-var">parseListIndividualsDummy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Mod FlagFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.flag'</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;individuals&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;list individuals&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621679495152"><span class="annot"><span class="annottext">parseListIndividualsExtraCols :: Parser ListEntity
</span><a href="#local-6989586621679495152"><span class="hs-identifier hs-var hs-var">parseListIndividualsExtraCols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; ListEntity
</span><a href="Poseidon.CLI.List.html#ListIndividuals"><span class="hs-identifier hs-var">ListIndividuals</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.many</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="#local-6989586621679495140"><span class="hs-identifier hs-var">parseExtraCol</span></a></span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621679495140"><span class="annot"><span class="annottext">parseExtraCol :: Parser FilePath
</span><a href="#local-6989586621679495140"><span class="hs-identifier hs-var hs-var">parseExtraCol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'j'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;jannoColumn&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;JANNO_HEADER&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;list additional fields from the janno files, using the Janno column heading name, such as \
        \Country, Site, Date_C14_Uncal_BP, Endogenous, ...&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRawOutput"><span class="hs-identifier hs-type">parseRawOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-383"></span><span id="parseRawOutput"><span class="annot"><span class="annottext">parseRawOutput :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRawOutput"><span class="hs-identifier hs-var hs-var">parseRawOutput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;raw&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;output table as tsv without header. Useful for piping into grep or awk&quot;</span></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreGeno"><span class="hs-identifier hs-type">parseIgnoreGeno</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-389"></span><span id="parseIgnoreGeno"><span class="annot"><span class="annottext">parseIgnoreGeno :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreGeno"><span class="hs-identifier hs-var hs-var">parseIgnoreGeno</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ignoreGeno&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ignore SNP and GenoFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Mod f a
</span><span class="hs-identifier hs-var">OP.hidden</span></span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFullGeno"><span class="hs-identifier hs-type">parseFullGeno</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-396"></span><span id="parseFullGeno"><span class="annot"><span class="annottext">parseFullGeno :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseFullGeno"><span class="hs-identifier hs-var hs-var">parseFullGeno</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-397"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;fullGeno&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-398"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;test parsing of all SNPs (by default only the first 100 SNPs are probed)&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Mod f a
</span><span class="hs-identifier hs-var">OP.hidden</span></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseNoExitCode"><span class="hs-identifier hs-type">parseNoExitCode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-403"></span><span id="parseNoExitCode"><span class="annot"><span class="annottext">parseNoExitCode :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseNoExitCode"><span class="hs-identifier hs-var hs-var">parseNoExitCode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;noExitCode&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;do not produce an explicit exit code&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Mod f a
</span><span class="hs-identifier hs-var">OP.hidden</span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreDuplicates"><span class="hs-identifier hs-type">parseIgnoreDuplicates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-410"></span><span id="parseIgnoreDuplicates"><span class="annot"><span class="annottext">parseIgnoreDuplicates :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreDuplicates"><span class="hs-identifier hs-var hs-var">parseIgnoreDuplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-411"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ignoreDuplicates&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;do not stop on duplicated individual names in the package collection&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-413"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Mod f a
</span><span class="hs-identifier hs-var">OP.hidden</span></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteURL"><span class="hs-identifier hs-type">parseRemoteURL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-417"></span><span id="parseRemoteURL"><span class="annot"><span class="annottext">parseRemoteURL :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseRemoteURL"><span class="hs-identifier hs-var hs-var">parseRemoteURL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;remoteURL&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-419"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;URL of the remote Poseidon server&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-420"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;https://server.poseidon-adna.org&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseUpgrade"><span class="hs-identifier hs-type">parseUpgrade</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-425"></span><span id="parseUpgrade"><span class="annot"><span class="annottext">parseUpgrade :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseUpgrade"><span class="hs-identifier hs-var hs-var">parseUpgrade</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;upgrade&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'u'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;overwrite outdated local package versions&quot;</span></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- PlinkPopNameAsFamily always is the default</span><span>
</span><span id="line-431"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInputPlinkPopMode"><span class="hs-identifier hs-type">parseInputPlinkPopMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlinkPopNameMode</span></span><span>
</span><span id="line-432"></span><span id="parseInputPlinkPopMode"><span class="annot"><span class="annottext">parseInputPlinkPopMode :: Parser PlinkPopNameMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseInputPlinkPopMode"><span class="hs-identifier hs-var hs-var">parseInputPlinkPopMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath PlinkPopNameMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#readPlinkPopName"><span class="hs-identifier hs-var">readPlinkPopName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;inPlinkPopName&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">PlinkPopNameMode
</span><span class="hs-identifier hs-var">PlinkPopNameAsFamily</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Where to read the population/group name from the FAM file in Plink-format. \
        \Three options are possible: asFamily (default) | asPhenotype | asBoth.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutputPlinkPopMode"><span class="hs-identifier hs-type">parseOutputPlinkPopMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlinkPopNameMode</span></span><span>
</span><span id="line-438"></span><span id="parseOutputPlinkPopMode"><span class="annot"><span class="annottext">parseOutputPlinkPopMode :: Parser PlinkPopNameMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseOutputPlinkPopMode"><span class="hs-identifier hs-var hs-var">parseOutputPlinkPopMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (FilePath -&gt; Either FilePath a) -&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.eitherReader</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath PlinkPopNameMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#readPlinkPopName"><span class="hs-identifier hs-var">readPlinkPopName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-439"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;outPlinkPopName&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">PlinkPopNameMode
</span><span class="hs-identifier hs-var">PlinkPopNameAsFamily</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Where to write the population/group name \
        \into the FAM file in Plink-format. Three options are possible: \
        \asFamily (default) | asPhenotype | asBoth. See also --inPlinkPopName.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#readPlinkPopName"><span class="hs-identifier hs-type">readPlinkPopName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlinkPopNameMode</span></span><span>
</span><span id="line-445"></span><span id="readPlinkPopName"><span class="annot"><span class="annottext">readPlinkPopName :: FilePath -&gt; Either FilePath PlinkPopNameMode
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#readPlinkPopName"><span class="hs-identifier hs-var hs-var">readPlinkPopName</span></a></span></span><span> </span><span id="local-6989586621679495122"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495122"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679495122"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>    </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;asFamily&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">PlinkPopNameMode
</span><span class="hs-identifier hs-var">PlinkPopNameAsFamily</span></span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;asPhenotype&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">PlinkPopNameMode
</span><span class="hs-identifier hs-var">PlinkPopNameAsPhenotype</span></span><span>
</span><span id="line-448"></span><span>    </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;asBoth&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">PlinkPopNameMode
</span><span class="hs-identifier hs-var">PlinkPopNameAsBoth</span></span><span>
</span><span id="line-449"></span><span>    </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;must be asFamily, asPhenotype or asBoth&quot;</span></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeZipDir"><span class="hs-identifier hs-type">parseMaybeZipDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span id="parseMaybeZipDir"><span class="annot"><span class="annottext">parseMaybeZipDir :: Parser (Maybe FilePath)
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeZipDir"><span class="hs-identifier hs-var hs-var">parseMaybeZipDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; ReadM s
</span><span class="hs-identifier hs-var">OP.str</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;zipDir&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'z'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-454"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;DIR&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-455"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;a directory to store Zip files in. If not specified, do not generate zip files&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePort"><span class="hs-identifier hs-type">parsePort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-459"></span><span id="parsePort"><span class="annot"><span class="annottext">parsePort :: Parser Int
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parsePort"><span class="hs-identifier hs-var hs-var">parsePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><span class="hs-identifier hs-var">OP.option</span></span><span> </span><span class="annot"><span class="annottext">forall a. Read a =&gt; ReadM a
</span><span class="hs-identifier hs-var">OP.auto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;port&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'p'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;PORT&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-460"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.value</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3000</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *). Show a =&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.showDefault</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;the port on which the server listens&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreChecksums"><span class="hs-identifier hs-type">parseIgnoreChecksums</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-464"></span><span id="parseIgnoreChecksums"><span class="annot"><span class="annottext">parseIgnoreChecksums :: Parser Bool
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseIgnoreChecksums"><span class="hs-identifier hs-var hs-var">parseIgnoreChecksums</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod FlagFields Bool -&gt; Parser Bool
</span><span class="hs-identifier hs-var">OP.switch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;ignoreChecksums&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.short</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'c'</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;whether to ignore checksums. Useful for speedup in debugging&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeCertFiles"><span class="hs-identifier hs-type">parseMaybeCertFiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span id="parseMaybeCertFiles"><span class="annot"><span class="annottext">parseMaybeCertFiles :: Parser (Maybe (FilePath, [FilePath], FilePath))
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseMaybeCertFiles"><span class="hs-identifier hs-var hs-var">parseMaybeCertFiles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">OP.optional</span></span><span> </span><span class="annot"><span class="annottext">Parser (FilePath, [FilePath], FilePath)
</span><a href="#local-6989586621679495115"><span class="hs-identifier hs-var">parseFiles</span></a></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-470"></span><span>    </span><span id="local-6989586621679495115"><span class="annot"><span class="annottext">parseFiles :: Parser (FilePath, [FilePath], FilePath)
</span><a href="#local-6989586621679495115"><span class="hs-identifier hs-var hs-var">parseFiles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseCertFile"><span class="hs-identifier hs-var">parseCertFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">OP.many</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseChainFile"><span class="hs-identifier hs-var">parseChainFile</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseKeyFile"><span class="hs-identifier hs-var">parseKeyFile</span></a></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseKeyFile"><span class="hs-identifier hs-type">parseKeyFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-473"></span><span id="parseKeyFile"><span class="annot"><span class="annottext">parseKeyFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseKeyFile"><span class="hs-identifier hs-var hs-var">parseKeyFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;keyFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;KEYFILE&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-474"></span><span>                             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;The key file of the TLS Certificate used for HTTPS&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseChainFile"><span class="hs-identifier hs-type">parseChainFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-477"></span><span id="parseChainFile"><span class="annot"><span class="annottext">parseChainFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseChainFile"><span class="hs-identifier hs-var hs-var">parseChainFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;chainFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;CHAINFILE&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-478"></span><span>                               </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;The chain file of the TLS Certificate used for HTTPS. Can be given multiple times&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="annot"><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseCertFile"><span class="hs-identifier hs-type">parseCertFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OP.Parser</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-481"></span><span id="parseCertFile"><span class="annot"><span class="annottext">parseCertFile :: Parser FilePath
</span><a href="Poseidon.CLI.OptparseApplicativeParsers.html#parseCertFile"><span class="hs-identifier hs-var hs-var">parseCertFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s. IsString s =&gt; Mod OptionFields s -&gt; Parser s
</span><span class="hs-identifier hs-var">OP.strOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasName f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.long</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;certFile&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. HasMetavar f =&gt; FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.metavar</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;CERTFILE&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-482"></span><span>                              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. FilePath -&gt; Mod f a
</span><span class="hs-identifier hs-var">OP.help</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;The cert file of the TLS Certificate used for HTTPS&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span></pre></body></html>