<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Poseidon.CLI.Update</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Poseidon.CLI.Update.html#runUpdate"><span class="hs-identifier">runUpdate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.CLI.Update.html#UpdateOptions"><span class="hs-identifier">UpdateOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.GenotypeData.html"><span class="hs-identifier">Poseidon.GenotypeData</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.GenotypeData.html#GenotypeDataSpec"><span class="hs-identifier">GenotypeDataSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.Package.html"><span class="hs-identifier">Poseidon.Package</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.Package.html#PackageReadOptions"><span class="hs-identifier">PackageReadOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>                                          </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier">PoseidonPackage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>                                          </span><span class="annot"><a href="Poseidon.Package.html#defaultPackageReadOptions"><span class="hs-identifier">defaultPackageReadOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>                                          </span><span class="annot"><a href="Poseidon.Package.html#readPoseidonPackageCollection"><span class="hs-identifier">readPoseidonPackageCollection</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>                                          </span><span class="annot"><a href="Poseidon.Package.html#writePoseidonPackage"><span class="hs-identifier">writePoseidonPackage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.SecondaryTypes.html"><span class="hs-identifier">Poseidon.SecondaryTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier">ContributorSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>                                          </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier">VersionComponent</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.Utils.html"><span class="hs-identifier">Poseidon.Utils</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.Utils.html#PoseidonLogIO"><span class="hs-identifier">PoseidonLogIO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier">getChecksum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#logInfo"><span class="hs-identifier">logInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>                                          </span><span class="annot"><a href="Poseidon.Utils.html#logWarning"><span class="hs-identifier">logWarning</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">nub</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromJust</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isNothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Day</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UTCTime</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getCurrentTime</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Version</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Version</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">makeVersion</span></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>                                          </span><span class="annot"><span class="hs-identifier">showVersion</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">System.Directory</span></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">doesFileExist</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">removeFile</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">System.FilePath</span></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;/&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateOptions"><span class="annot"><a href="Poseidon.CLI.Update.html#UpdateOptions"><span class="hs-identifier hs-var">UpdateOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UpdateOptions"><span class="annot"><a href="Poseidon.CLI.Update.html#UpdateOptions"><span class="hs-identifier hs-var">UpdateOptions</span></a></span></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_updateBaseDirs"><span class="annot"><span class="annottext">UpdateOptions -&gt; [FilePath]
</span><a href="Poseidon.CLI.Update.html#_updateBaseDirs"><span class="hs-identifier hs-var hs-var">_updateBaseDirs</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">]</span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updatePoseidonVersion"><span class="annot"><span class="annottext">UpdateOptions -&gt; Maybe Version
</span><a href="Poseidon.CLI.Update.html#_updatePoseidonVersion"><span class="hs-identifier hs-var hs-var">_updatePoseidonVersion</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Version</span></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateIgnorePoseidonVersion"><span class="annot"><span class="annottext">UpdateOptions -&gt; Bool
</span><a href="Poseidon.CLI.Update.html#_updateIgnorePoseidonVersion"><span class="hs-identifier hs-var hs-var">_updateIgnorePoseidonVersion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateVersionUpdate"><span class="annot"><span class="annottext">UpdateOptions -&gt; VersionComponent
</span><a href="Poseidon.CLI.Update.html#_updateVersionUpdate"><span class="hs-identifier hs-var hs-var">_updateVersionUpdate</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier hs-type">VersionComponent</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateNoChecksumUpdate"><span class="annot"><span class="annottext">UpdateOptions -&gt; Bool
</span><a href="Poseidon.CLI.Update.html#_updateNoChecksumUpdate"><span class="hs-identifier hs-var hs-var">_updateNoChecksumUpdate</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateIgnoreGeno"><span class="annot"><span class="annottext">UpdateOptions -&gt; Bool
</span><a href="Poseidon.CLI.Update.html#_updateIgnoreGeno"><span class="hs-identifier hs-var hs-var">_updateIgnoreGeno</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateNewContributors"><span class="annot"><span class="annottext">UpdateOptions -&gt; [ContributorSpec]
</span><a href="Poseidon.CLI.Update.html#_updateNewContributors"><span class="hs-identifier hs-var hs-var">_updateNewContributors</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier hs-type">ContributorSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateLog"><span class="annot"><span class="annottext">UpdateOptions -&gt; FilePath
</span><a href="Poseidon.CLI.Update.html#_updateLog"><span class="hs-identifier hs-var hs-var">_updateLog</span></a></span></span><span>                   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_updateForce"><span class="annot"><span class="annottext">UpdateOptions -&gt; Bool
</span><a href="Poseidon.CLI.Update.html#_updateForce"><span class="hs-identifier hs-var hs-var">_updateForce</span></a></span></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Poseidon.CLI.Update.html#pacReadOpts"><span class="hs-identifier hs-type">pacReadOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PackageReadOptions"><span class="hs-identifier hs-type">PackageReadOptions</span></a></span><span>
</span><span id="line-40"></span><span id="pacReadOpts"><span class="annot"><span class="annottext">pacReadOpts :: PackageReadOptions
</span><a href="Poseidon.CLI.Update.html#pacReadOpts"><span class="hs-identifier hs-var hs-var">pacReadOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageReadOptions
</span><a href="Poseidon.Package.html#defaultPackageReadOptions"><span class="hs-identifier hs-var">defaultPackageReadOptions</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-41"></span><span>      </span><span class="annot"><span class="annottext">_readOptStopOnDuplicates :: Bool
</span><a href="Poseidon.Package.html#_readOptStopOnDuplicates"><span class="hs-identifier hs-var">_readOptStopOnDuplicates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_readOptIgnoreChecksums :: Bool
</span><a href="Poseidon.Package.html#_readOptIgnoreChecksums"><span class="hs-identifier hs-var">_readOptIgnoreChecksums</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_readOptIgnoreGeno :: Bool
</span><a href="Poseidon.Package.html#_readOptIgnoreGeno"><span class="hs-identifier hs-var">_readOptIgnoreGeno</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_readOptGenoCheck :: Bool
</span><a href="Poseidon.Package.html#_readOptGenoCheck"><span class="hs-identifier hs-var">_readOptGenoCheck</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Poseidon.CLI.Update.html#runUpdate"><span class="hs-identifier hs-type">runUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.CLI.Update.html#UpdateOptions"><span class="hs-identifier hs-type">UpdateOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonLogIO"><span class="hs-identifier hs-type">PoseidonLogIO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span id="runUpdate"><span class="annot"><span class="annottext">runUpdate :: UpdateOptions -&gt; PoseidonLogIO ()
</span><a href="Poseidon.CLI.Update.html#runUpdate"><span class="hs-identifier hs-var hs-var">runUpdate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.CLI.Update.html#UpdateOptions"><span class="hs-identifier hs-type">UpdateOptions</span></a></span><span> </span><span id="local-6989586621679163998"><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621679163998"><span class="hs-identifier hs-var">baseDirs</span></a></span></span><span> </span><span id="local-6989586621679163997"><span class="annot"><span class="annottext">Maybe Version
</span><a href="#local-6989586621679163997"><span class="hs-identifier hs-var">poseidonVersion</span></a></span></span><span> </span><span id="local-6989586621679163996"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163996"><span class="hs-identifier hs-var">ignorePoseidonVersion</span></a></span></span><span> </span><span id="local-6989586621679163995"><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163995"><span class="hs-identifier hs-var">versionComponent</span></a></span></span><span> </span><span id="local-6989586621679163994"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163994"><span class="hs-identifier hs-var">noChecksumUpdate</span></a></span></span><span> </span><span id="local-6989586621679163993"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163993"><span class="hs-identifier hs-var">ignoreGeno</span></a></span></span><span> </span><span id="local-6989586621679163992"><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679163992"><span class="hs-identifier hs-var">newContributors</span></a></span></span><span> </span><span id="local-6989586621679163991"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163991"><span class="hs-identifier hs-var">logText</span></a></span></span><span> </span><span id="local-6989586621679163990"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163990"><span class="hs-identifier hs-var">force</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-49"></span><span>    </span><span id="local-6989586621679163989"><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163989"><span class="hs-identifier hs-var">allPackages</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageReadOptions -&gt; [FilePath] -&gt; PoseidonLogIO [PoseidonPackage]
</span><a href="Poseidon.Package.html#readPoseidonPackageCollection"><span class="hs-identifier hs-var">readPoseidonPackageCollection</span></a></span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><span class="annottext">PackageReadOptions
</span><a href="Poseidon.CLI.Update.html#pacReadOpts"><span class="hs-identifier hs-var">pacReadOpts</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_readOptIgnorePosVersion :: Bool
</span><a href="Poseidon.Package.html#_readOptIgnorePosVersion"><span class="hs-identifier hs-var">_readOptIgnorePosVersion</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163996"><span class="hs-identifier hs-var">ignorePoseidonVersion</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621679163998"><span class="hs-identifier hs-var">baseDirs</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-comment">-- updating poseidon version</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163987"><span class="annot"><span class="annottext">updatedPacsPoseidonVersion :: [PoseidonPackage]
</span><a href="#local-6989586621679163987"><span class="hs-identifier hs-var hs-var">updatedPacsPoseidonVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Version -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Version
</span><a href="#local-6989586621679163997"><span class="hs-identifier hs-var">poseidonVersion</span></a></span><span>
</span><span id="line-54"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163989"><span class="hs-identifier hs-var">allPackages</span></a></span><span>
</span><span id="line-55"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; PoseidonPackage)
-&gt; [PoseidonPackage] -&gt; [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Version -&gt; PoseidonPackage -&gt; PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updatePoseidonVersion"><span class="hs-identifier hs-var">updatePoseidonVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Version
</span><a href="#local-6989586621679163997"><span class="hs-identifier hs-var">poseidonVersion</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163989"><span class="hs-identifier hs-var">allPackages</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-comment">-- updating checksums</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><span class="annottext">FilePath -&gt; PoseidonLogIO ()
</span><a href="Poseidon.Utils.html#logInfo"><span class="hs-identifier hs-var">logInfo</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Calculating checksums&quot;</span></span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679163985"><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163985"><span class="hs-identifier hs-var">updatedPacsChecksums</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-59"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163994"><span class="hs-identifier hs-var">noChecksumUpdate</span></a></span><span>
</span><span id="line-60"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163987"><span class="hs-identifier hs-var">updatedPacsPoseidonVersion</span></a></span><span>
</span><span id="line-61"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage])
-&gt; IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; IO PoseidonPackage)
-&gt; [PoseidonPackage] -&gt; IO [PoseidonPackage]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; PoseidonPackage -&gt; IO PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updateChecksums"><span class="hs-identifier hs-var">updateChecksums</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163993"><span class="hs-identifier hs-var">ignoreGeno</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163987"><span class="hs-identifier hs-var">updatedPacsPoseidonVersion</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-comment">-- see which packages were changed and need to be updated formally</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163982"><span class="annot"><span class="annottext">updatedPacsChanged :: [PoseidonPackage]
</span><a href="#local-6989586621679163982"><span class="hs-identifier hs-var hs-var">updatedPacsChanged</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163990"><span class="hs-identifier hs-var">force</span></a></span><span>
</span><span id="line-64"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163985"><span class="hs-identifier hs-var">updatedPacsChecksums</span></a></span><span>
</span><span id="line-65"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">((PoseidonPackage, PoseidonPackage) -&gt; PoseidonPackage)
-&gt; [(PoseidonPackage, PoseidonPackage)] -&gt; [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage, PoseidonPackage) -&gt; PoseidonPackage
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(PoseidonPackage, PoseidonPackage)] -&gt; [PoseidonPackage])
-&gt; [(PoseidonPackage, PoseidonPackage)] -&gt; [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((PoseidonPackage, PoseidonPackage) -&gt; Bool)
-&gt; [(PoseidonPackage, PoseidonPackage)]
-&gt; [(PoseidonPackage, PoseidonPackage)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; PoseidonPackage -&gt; Bool)
-&gt; (PoseidonPackage, PoseidonPackage) -&gt; Bool
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; PoseidonPackage -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(PoseidonPackage, PoseidonPackage)]
 -&gt; [(PoseidonPackage, PoseidonPackage)])
-&gt; [(PoseidonPackage, PoseidonPackage)]
-&gt; [(PoseidonPackage, PoseidonPackage)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
-&gt; [PoseidonPackage] -&gt; [(PoseidonPackage, PoseidonPackage)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163985"><span class="hs-identifier hs-var">updatedPacsChecksums</span></a></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163989"><span class="hs-identifier hs-var">allPackages</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163982"><span class="hs-identifier hs-var">updatedPacsChanged</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; PoseidonLogIO ()
</span><a href="Poseidon.Utils.html#logWarning"><span class="hs-identifier hs-var">logWarning</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;No packages changed&quot;</span></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-69"></span><span>        </span><span class="hs-comment">-- update yml files</span><span>
</span><span id="line-70"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span> </span><span id="local-6989586621679163977"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679163977"><span class="hs-identifier hs-var">today</span></a></span></span><span> </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UTCTime -&gt; ReaderT LogEnv IO UTCTime
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><span class="hs-identifier hs-var">getCurrentTime</span></span><span>
</span><span id="line-71"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163976"><span class="annot"><span class="annottext">updatedPacsMeta :: [PoseidonPackage]
</span><a href="#local-6989586621679163976"><span class="hs-identifier hs-var hs-var">updatedPacsMeta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; PoseidonPackage)
-&gt; [PoseidonPackage] -&gt; [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VersionComponent
-&gt; Day -&gt; [ContributorSpec] -&gt; PoseidonPackage -&gt; PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updateMeta"><span class="hs-identifier hs-var">updateMeta</span></a></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163995"><span class="hs-identifier hs-var">versionComponent</span></a></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679163977"><span class="hs-identifier hs-var">today</span></a></span><span> </span><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679163992"><span class="hs-identifier hs-var">newContributors</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163982"><span class="hs-identifier hs-var">updatedPacsChanged</span></a></span><span>
</span><span id="line-72"></span><span>        </span><span class="hs-comment">-- write/update CHANGELOG files</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><span class="annottext">FilePath -&gt; PoseidonLogIO ()
</span><a href="Poseidon.Utils.html#logInfo"><span class="hs-identifier hs-var">logInfo</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Updating CHANGELOG files&quot;</span></span><span>
</span><span id="line-74"></span><span>        </span><span id="local-6989586621679163974"><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163974"><span class="hs-identifier hs-var">updatedPacsWithChangelog</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage])
-&gt; IO [PoseidonPackage] -&gt; PoseidonLogIO [PoseidonPackage]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; IO PoseidonPackage)
-&gt; [PoseidonPackage] -&gt; IO [PoseidonPackage]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; PoseidonPackage -&gt; IO PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#writeOrUpdateChangelogFile"><span class="hs-identifier hs-var">writeOrUpdateChangelogFile</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163991"><span class="hs-identifier hs-var">logText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163976"><span class="hs-identifier hs-var">updatedPacsMeta</span></a></span><span>
</span><span id="line-75"></span><span>        </span><span class="hs-comment">-- write yml files with all changes</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><span class="annottext">FilePath -&gt; PoseidonLogIO ()
</span><a href="Poseidon.Utils.html#logInfo"><span class="hs-identifier hs-var">logInfo</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Writing modified POSEIDON.yml files&quot;</span></span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; PoseidonLogIO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; PoseidonLogIO ()) -&gt; IO () -&gt; PoseidonLogIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; IO ()) -&gt; [PoseidonPackage] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; IO ()
</span><a href="Poseidon.Package.html#writePoseidonPackage"><span class="hs-identifier hs-var">writePoseidonPackage</span></a></span><span> </span><span class="annot"><span class="annottext">[PoseidonPackage]
</span><a href="#local-6989586621679163974"><span class="hs-identifier hs-var">updatedPacsWithChangelog</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="annot"><a href="Poseidon.CLI.Update.html#writeOrUpdateChangelogFile"><span class="hs-identifier hs-type">writeOrUpdateChangelogFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span>
</span><span id="line-80"></span><span id="writeOrUpdateChangelogFile"><span class="annot"><span class="annottext">writeOrUpdateChangelogFile :: FilePath -&gt; PoseidonPackage -&gt; IO PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#writeOrUpdateChangelogFile"><span class="hs-identifier hs-var hs-var">writeOrUpdateChangelogFile</span></a></span></span><span> </span><span id="local-6989586621679163971"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163971"><span class="hs-identifier hs-var">logText</span></a></span></span><span> </span><span id="local-6989586621679163970"><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe FilePath
</span><a href="Poseidon.Package.html#posPacChangelogFile"><span class="hs-identifier hs-var hs-var">posPacChangelogFile</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><span class="annottext">Maybe FilePath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-83"></span><span>            </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; IO ()
</span><span class="hs-identifier hs-var">writeFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; FilePath
</span><a href="Poseidon.Package.html#posPacBaseDir"><span class="hs-identifier hs-var hs-var">posPacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;CHANGELOG.md&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; IO ()) -&gt; FilePath -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-84"></span><span>                </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;V &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; FilePath
</span><span class="hs-identifier hs-var">showVersion</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Version -&gt; Version
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Version -&gt; Version) -&gt; Maybe Version -&gt; Version
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe Version
</span><a href="Poseidon.Package.html#posPacPackageVersion"><span class="hs-identifier hs-var hs-var">posPacPackageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163971"><span class="hs-identifier hs-var">logText</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-85"></span><span>            </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; IO PoseidonPackage
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-86"></span><span>                </span><span class="annot"><span class="annottext">posPacChangelogFile :: Maybe FilePath
</span><a href="Poseidon.Package.html#posPacChangelogFile"><span class="hs-identifier hs-var">posPacChangelogFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;CHANGELOG.md&quot;</span></span><span>
</span><span id="line-87"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679163965"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163965"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-89"></span><span>            </span><span id="local-6989586621679163964"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163964"><span class="hs-identifier hs-var">changelogFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><span class="hs-identifier hs-var">readFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; FilePath
</span><a href="Poseidon.Package.html#posPacBaseDir"><span class="hs-identifier hs-var hs-var">posPacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163965"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>            </span><span class="annot"><span class="annottext">FilePath -&gt; IO ()
</span><span class="hs-identifier hs-var">removeFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; FilePath
</span><a href="Poseidon.Package.html#posPacBaseDir"><span class="hs-identifier hs-var hs-var">posPacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163965"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>            </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; IO ()
</span><span class="hs-identifier hs-var">writeFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; FilePath
</span><a href="Poseidon.Package.html#posPacBaseDir"><span class="hs-identifier hs-var hs-var">posPacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163965"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; IO ()) -&gt; FilePath -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-92"></span><span>                </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;V &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; FilePath
</span><span class="hs-identifier hs-var">showVersion</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Version -&gt; Version
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Version -&gt; Version) -&gt; Maybe Version -&gt; Version
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe Version
</span><a href="Poseidon.Package.html#posPacPackageVersion"><span class="hs-identifier hs-var hs-var">posPacPackageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163971"><span class="hs-identifier hs-var">logText</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163964"><span class="hs-identifier hs-var">changelogFile</span></a></span><span>
</span><span id="line-93"></span><span>            </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; IO PoseidonPackage
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163970"><span class="hs-identifier hs-var">pac</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Poseidon.CLI.Update.html#updateMeta"><span class="hs-identifier hs-type">updateMeta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier hs-type">VersionComponent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SecondaryTypes.html#ContributorSpec"><span class="hs-identifier hs-type">ContributorSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span>
</span><span id="line-96"></span><span id="updateMeta"><span class="annot"><span class="annottext">updateMeta :: VersionComponent
-&gt; Day -&gt; [ContributorSpec] -&gt; PoseidonPackage -&gt; PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updateMeta"><span class="hs-identifier hs-var hs-var">updateMeta</span></a></span></span><span> </span><span id="local-6989586621679163962"><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163962"><span class="hs-identifier hs-var">versionComponent</span></a></span></span><span> </span><span id="local-6989586621679163961"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679163961"><span class="hs-identifier hs-var">date</span></a></span></span><span> </span><span id="local-6989586621679163960"><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679163960"><span class="hs-identifier hs-var">newContributors</span></a></span></span><span> </span><span id="local-6989586621679163959"><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163959"><span class="hs-identifier hs-var">pac</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163959"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">posPacPackageVersion :: Maybe Version
</span><a href="Poseidon.Package.html#posPacPackageVersion"><span class="hs-identifier hs-var">posPacPackageVersion</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><span class="annottext">Maybe Version
-&gt; (Version -&gt; Maybe Version) -&gt; Maybe Version -&gt; Maybe Version
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; Maybe Version
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Version -&gt; Maybe Version) -&gt; Version -&gt; Maybe Version
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><span class="hs-identifier hs-var">makeVersion</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; Maybe Version
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Version -&gt; Maybe Version)
-&gt; (Version -&gt; Version) -&gt; Version -&gt; Maybe Version
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><span class="hs-identifier hs-var">makeVersion</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; Version) -&gt; (Version -&gt; [Int]) -&gt; Version -&gt; Version
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VersionComponent -&gt; [Int] -&gt; [Int]
</span><a href="#local-6989586621679163956"><span class="hs-identifier hs-var">updateVersionInt</span></a></span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163962"><span class="hs-identifier hs-var">versionComponent</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; [Int]) -&gt; (Version -&gt; [Int]) -&gt; Version -&gt; [Int]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; [Int]
</span><span class="hs-identifier hs-var hs-var">versionBranch</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe Version
</span><a href="Poseidon.Package.html#posPacPackageVersion"><span class="hs-identifier hs-var hs-var">posPacPackageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163959"><span class="hs-identifier hs-var">pac</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">posPacLastModified :: Maybe Day
</span><a href="Poseidon.Package.html#posPacLastModified"><span class="hs-identifier hs-var">posPacLastModified</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Maybe Day
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679163961"><span class="hs-identifier hs-var">date</span></a></span><span>
</span><span id="line-102"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">posPacContributor :: [ContributorSpec]
</span><a href="Poseidon.Package.html#posPacContributor"><span class="hs-identifier hs-var">posPacContributor</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ContributorSpec] -&gt; [ContributorSpec]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">([ContributorSpec] -&gt; [ContributorSpec])
-&gt; [ContributorSpec] -&gt; [ContributorSpec]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; [ContributorSpec]
</span><a href="Poseidon.Package.html#posPacContributor"><span class="hs-identifier hs-var hs-var">posPacContributor</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163959"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="annot"><span class="annottext">[ContributorSpec] -&gt; [ContributorSpec] -&gt; [ContributorSpec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[ContributorSpec]
</span><a href="#local-6989586621679163960"><span class="hs-identifier hs-var">newContributors</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="#local-6989586621679163956"><span class="hs-identifier hs-type">updateVersionInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SecondaryTypes.html#VersionComponent"><span class="hs-identifier hs-type">VersionComponent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span>
</span><span id="line-106"></span><span>        </span><span id="local-6989586621679163956"><span class="annot"><span class="annottext">updateVersionInt :: VersionComponent -&gt; [Int] -&gt; [Int]
</span><a href="#local-6989586621679163956"><span class="hs-identifier hs-var hs-var">updateVersionInt</span></a></span></span><span> </span><span id="local-6989586621679163952"><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163952"><span class="hs-identifier hs-var">component</span></a></span></span><span> </span><span id="local-6989586621679163951"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-107"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="#local-6989586621679163952"><span class="hs-identifier hs-var">component</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-108"></span><span>                </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Patch"><span class="hs-identifier hs-var">Patch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-109"></span><span>                </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Minor"><span class="hs-identifier hs-var">Minor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>                </span><span class="annot"><span class="annottext">VersionComponent
</span><a href="Poseidon.SecondaryTypes.html#Major"><span class="hs-identifier hs-var">Major</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679163951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int -&gt; Int
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="annot"><a href="Poseidon.CLI.Update.html#updateChecksums"><span class="hs-identifier hs-type">updateChecksums</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span>
</span><span id="line-113"></span><span id="updateChecksums"><span class="annot"><span class="annottext">updateChecksums :: Bool -&gt; PoseidonPackage -&gt; IO PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updateChecksums"><span class="hs-identifier hs-var hs-var">updateChecksums</span></a></span></span><span> </span><span id="local-6989586621679163945"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163945"><span class="hs-identifier hs-var">ignoreGeno</span></a></span></span><span> </span><span id="local-6989586621679163944"><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163943"><span class="annot"><span class="annottext">d :: FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; FilePath
</span><a href="Poseidon.Package.html#posPacBaseDir"><span class="hs-identifier hs-var hs-var">posPacBaseDir</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span id="local-6989586621679163942"><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163942"><span class="hs-identifier hs-var">jannoChkSum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe FilePath
</span><a href="Poseidon.Package.html#posPacJannoFile"><span class="hs-identifier hs-var hs-var">posPacJannoFile</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-116"></span><span>        </span><span class="annot"><span class="annottext">Maybe FilePath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; IO (Maybe FilePath)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe FilePath -&gt; IO (Maybe FilePath))
-&gt; Maybe FilePath -&gt; IO (Maybe FilePath)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe FilePath
</span><a href="Poseidon.Package.html#posPacJannoFileChkSum"><span class="hs-identifier hs-var hs-var">posPacJannoFileChkSum</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span>
</span><span id="line-117"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679163939"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163939"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Maybe FilePath) -&gt; IO FilePath -&gt; IO (Maybe FilePath)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier hs-var">getChecksum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163939"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>    </span><span id="local-6989586621679163937"><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163937"><span class="hs-identifier hs-var">bibChkSum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe FilePath
</span><a href="Poseidon.Package.html#posPacBibFile"><span class="hs-identifier hs-var hs-var">posPacBibFile</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><span class="annottext">Maybe FilePath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; IO (Maybe FilePath)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe FilePath -&gt; IO (Maybe FilePath))
-&gt; Maybe FilePath -&gt; IO (Maybe FilePath)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Maybe FilePath
</span><a href="Poseidon.Package.html#posPacBibFileChkSum"><span class="hs-identifier hs-var hs-var">posPacBibFileChkSum</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679163934"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163934"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Maybe FilePath) -&gt; IO FilePath -&gt; IO (Maybe FilePath)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier hs-var">getChecksum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163934"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163933"><span class="annot"><span class="annottext">newPac1 :: PoseidonPackage
</span><a href="#local-6989586621679163933"><span class="hs-identifier hs-var hs-var">newPac1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163944"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-122"></span><span>            </span><span class="annot"><span class="annottext">posPacJannoFileChkSum :: Maybe FilePath
</span><a href="Poseidon.Package.html#posPacJannoFileChkSum"><span class="hs-identifier hs-var">posPacJannoFileChkSum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163942"><span class="hs-identifier hs-var">jannoChkSum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>            </span><span class="annot"><span class="annottext">posPacBibFileChkSum :: Maybe FilePath
</span><a href="Poseidon.Package.html#posPacBibFileChkSum"><span class="hs-identifier hs-var">posPacBibFileChkSum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163937"><span class="hs-identifier hs-var">bibChkSum</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163945"><span class="hs-identifier hs-var">ignoreGeno</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; IO PoseidonPackage
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163933"><span class="hs-identifier hs-var">newPac1</span></a></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679163932"><span class="annot"><span class="annottext">gd :: GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var hs-var">gd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; GenotypeDataSpec
</span><a href="Poseidon.Package.html#posPacGenotypeData"><span class="hs-identifier hs-var hs-var">posPacGenotypeData</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163933"><span class="hs-identifier hs-var">newPac1</span></a></span><span>
</span><span id="line-129"></span><span>        </span><span id="local-6989586621679163930"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163930"><span class="hs-identifier hs-var">genoExists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO Bool
</span><span class="hs-identifier hs-var">doesFileExist</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#genoFile"><span class="hs-identifier hs-var hs-var">genoFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>        </span><span id="local-6989586621679163928"><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163928"><span class="hs-identifier hs-var">genoChkSum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163930"><span class="hs-identifier hs-var">genoExists</span></a></span><span>
</span><span id="line-131"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Maybe FilePath) -&gt; IO FilePath -&gt; IO (Maybe FilePath)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier hs-var">getChecksum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#genoFile"><span class="hs-identifier hs-var hs-var">genoFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; IO (Maybe FilePath)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe FilePath -&gt; IO (Maybe FilePath))
-&gt; Maybe FilePath -&gt; IO (Maybe FilePath)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#genoFileChkSum"><span class="hs-identifier hs-var hs-var">genoFileChkSum</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span>
</span><span id="line-133"></span><span>        </span><span id="local-6989586621679163926"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163926"><span class="hs-identifier hs-var">snpExists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; IO Bool
</span><span class="hs-identifier hs-var">doesFileExist</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#snpFile"><span class="hs-identifier hs-var hs-var">snpFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>        </span><span id="local-6989586621679163924"><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163924"><span class="hs-identifier hs-var">snpChkSum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163926"><span class="hs-identifier hs-var">snpExists</span></a></span><span>
</span><span id="line-135"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Maybe FilePath) -&gt; IO FilePath -&gt; IO (Maybe FilePath)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier hs-var">getChecksum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#snpFile"><span class="hs-identifier hs-var hs-var">snpFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; IO (Maybe FilePath)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe FilePath -&gt; IO (Maybe FilePath))
-&gt; Maybe FilePath -&gt; IO (Maybe FilePath)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#snpFileChkSum"><span class="hs-identifier hs-var hs-var">snpFileChkSum</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span>
</span><span id="line-137"></span><span>        </span><span id="local-6989586621679163922"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163922"><span class="hs-identifier hs-var">indExists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; IO Bool
</span><span class="hs-identifier hs-var">doesFileExist</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#indFile"><span class="hs-identifier hs-var hs-var">indFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>        </span><span id="local-6989586621679163920"><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163920"><span class="hs-identifier hs-var">indChkSum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679163922"><span class="hs-identifier hs-var">indExists</span></a></span><span>
</span><span id="line-139"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe FilePath
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Maybe FilePath) -&gt; IO FilePath -&gt; IO (Maybe FilePath)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="Poseidon.Utils.html#getChecksum"><span class="hs-identifier hs-var">getChecksum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679163943"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; FilePath
</span><a href="Poseidon.GenotypeData.html#indFile"><span class="hs-identifier hs-var hs-var">indFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; IO (Maybe FilePath)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe FilePath -&gt; IO (Maybe FilePath))
-&gt; Maybe FilePath -&gt; IO (Maybe FilePath)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec -&gt; Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#indFileChkSum"><span class="hs-identifier hs-var hs-var">indFileChkSum</span></a></span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span>
</span><span id="line-141"></span><span>        </span><span class="annot"><span class="annottext">PoseidonPackage -&gt; IO PoseidonPackage
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonPackage -&gt; IO PoseidonPackage)
-&gt; PoseidonPackage -&gt; IO PoseidonPackage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163933"><span class="hs-identifier hs-var">newPac1</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-142"></span><span>            </span><span class="annot"><span class="annottext">posPacGenotypeData :: GenotypeDataSpec
</span><a href="Poseidon.Package.html#posPacGenotypeData"><span class="hs-identifier hs-var">posPacGenotypeData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenotypeDataSpec
</span><a href="#local-6989586621679163932"><span class="hs-identifier hs-var">gd</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-143"></span><span>                </span><span class="annot"><span class="annottext">genoFileChkSum :: Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#genoFileChkSum"><span class="hs-identifier hs-var">genoFileChkSum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163928"><span class="hs-identifier hs-var">genoChkSum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>                </span><span class="annot"><span class="annottext">snpFileChkSum :: Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#snpFileChkSum"><span class="hs-identifier hs-var">snpFileChkSum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163924"><span class="hs-identifier hs-var">snpChkSum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>                </span><span class="annot"><span class="annottext">indFileChkSum :: Maybe FilePath
</span><a href="Poseidon.GenotypeData.html#indFileChkSum"><span class="hs-identifier hs-var">indFileChkSum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621679163920"><span class="hs-identifier hs-var">indChkSum</span></a></span><span>
</span><span id="line-146"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-147"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="annot"><a href="Poseidon.CLI.Update.html#updatePoseidonVersion"><span class="hs-identifier hs-type">updatePoseidonVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Version</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Package.html#PoseidonPackage"><span class="hs-identifier hs-type">PoseidonPackage</span></a></span><span>
</span><span id="line-150"></span><span id="updatePoseidonVersion"><span class="annot"><span class="annottext">updatePoseidonVersion :: Maybe Version -&gt; PoseidonPackage -&gt; PoseidonPackage
</span><a href="Poseidon.CLI.Update.html#updatePoseidonVersion"><span class="hs-identifier hs-var hs-var">updatePoseidonVersion</span></a></span></span><span> </span><span id="local-6989586621679163918"><span class="annot"><span class="annottext">Maybe Version
</span><a href="#local-6989586621679163918"><span class="hs-identifier hs-var">maybeNewPoseidonVersion</span></a></span></span><span> </span><span id="local-6989586621679163917"><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163917"><span class="hs-identifier hs-var">pac</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163917"><span class="hs-identifier hs-var">pac</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="annottext">posPacPoseidonVersion :: Version
</span><a href="Poseidon.Package.html#posPacPoseidonVersion"><span class="hs-identifier hs-var">posPacPoseidonVersion</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version -&gt; Maybe Version -&gt; Version
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonPackage -&gt; Version
</span><a href="Poseidon.Package.html#posPacPoseidonVersion"><span class="hs-identifier hs-var hs-var">posPacPoseidonVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PoseidonPackage
</span><a href="#local-6989586621679163917"><span class="hs-identifier hs-var">pac</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Version
</span><a href="#local-6989586621679163918"><span class="hs-identifier hs-var">maybeNewPoseidonVersion</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-153"></span></pre></body></html>