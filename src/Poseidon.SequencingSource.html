<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24maxtag_HmWfctP2exp0nNhhZ8IGc9"><span id="%24tag2con_HmWfctP2exp0nNhhZ8IGc9"><span id="%24con2tag_HmWfctP2exp0nNhhZ8IGc9"><span id="%24maxtag_9X9l7vnO9OB7X78ajurxri"><span id="%24tag2con_9X9l7vnO9OB7X78ajurxri"><span id="%24con2tag_9X9l7vnO9OB7X78ajurxri"></span></span></span></span></span></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric       #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Poseidon.SequencingSource</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.Janno.html"><span class="hs-identifier">Poseidon.Janno</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.Janno.html#AccessionID"><span class="hs-identifier">AccessionID</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#CsvNamedRecord"><span class="hs-identifier">CsvNamedRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JURI"><span class="hs-identifier">JURI</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#JannoList"><span class="hs-identifier">JannoList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JannoStringList"><span class="hs-identifier">JannoStringList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#decodingOptions"><span class="hs-identifier">decodingOptions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#encodingOptions"><span class="hs-identifier">encodingOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#explicitNA"><span class="hs-identifier">explicitNA</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#filterLookup"><span class="hs-identifier">filterLookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier">filterLookupOptional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#getCsvNR"><span class="hs-identifier">getCsvNR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>                                             </span><span class="annot"><a href="Poseidon.Janno.html#removeUselessSuffix"><span class="hs-identifier">removeUselessSuffix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Poseidon.Utils.html"><span class="hs-identifier">Poseidon.Utils</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.Utils.html#PoseidonException"><span class="hs-identifier">PoseidonException</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonIO"><span class="hs-identifier">PoseidonIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>                                             </span><span class="annot"><a href="Poseidon.Utils.html#logDebug"><span class="hs-identifier">logDebug</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#renderPoseidonException"><span class="hs-identifier">renderPoseidonException</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">throwIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>                                             </span><span class="annot"><span class="hs-identifier">defaultOptions</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">genericToEncoding</span></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>                                             </span><span class="annot"><span class="hs-identifier">toEncoding</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withText</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson.Encoding</span></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">text</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">second</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Char8</span></span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Bchs</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Bch</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Csv</span></span><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Csv</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Either</span></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lefts</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">rights</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HM</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">foldl'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nub</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sort</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Yaml.Aeson</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- |A datatype to represent UDG in a ssf file</span><span>
</span><span id="line-37"></span><span id="local-6989586621679172355"><span id="local-6989586621679172356"></span></span><span class="hs-keyword">data</span><span> </span><span id="SSFUDG"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-var">SSFUDG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-38"></span><span>      </span><span id="SSFMinus"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFMinus"><span class="hs-identifier hs-var">SSFMinus</span></a></span></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SSFHalf"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFHalf"><span class="hs-identifier hs-var">SSFHalf</span></a></span></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SSFPlus"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFPlus"><span class="hs-identifier hs-var">SSFPlus</span></a></span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172348"><span id="local-6989586621679172350"><span class="annot"><span class="annottext">SSFUDG -&gt; SSFUDG -&gt; Bool
(SSFUDG -&gt; SSFUDG -&gt; Bool)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Bool) -&gt; Eq SSFUDG
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c/= :: SSFUDG -&gt; SSFUDG -&gt; Bool
== :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c== :: SSFUDG -&gt; SSFUDG -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172332"><span id="local-6989586621679172334"><span id="local-6989586621679172336"><span id="local-6989586621679172338"><span id="local-6989586621679172340"><span id="local-6989586621679172342"><span id="local-6989586621679172344"><span class="annot"><span class="annottext">Eq SSFUDG
Eq SSFUDG
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Ordering)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Bool)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Bool)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Bool)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; Bool)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; SSFUDG)
-&gt; (SSFUDG -&gt; SSFUDG -&gt; SSFUDG)
-&gt; Ord SSFUDG
SSFUDG -&gt; SSFUDG -&gt; Bool
SSFUDG -&gt; SSFUDG -&gt; Ordering
SSFUDG -&gt; SSFUDG -&gt; SSFUDG
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG
$cmin :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG
max :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG
$cmax :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG
&gt;= :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c&gt;= :: SSFUDG -&gt; SSFUDG -&gt; Bool
&gt; :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c&gt; :: SSFUDG -&gt; SSFUDG -&gt; Bool
&lt;= :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c&lt;= :: SSFUDG -&gt; SSFUDG -&gt; Bool
&lt; :: SSFUDG -&gt; SSFUDG -&gt; Bool
$c&lt; :: SSFUDG -&gt; SSFUDG -&gt; Bool
compare :: SSFUDG -&gt; SSFUDG -&gt; Ordering
$ccompare :: SSFUDG -&gt; SSFUDG -&gt; Ordering
$cp1Ord :: Eq SSFUDG
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SSFUDG -&gt; Rep SSFUDG x)
-&gt; (forall x. Rep SSFUDG x -&gt; SSFUDG) -&gt; Generic SSFUDG
forall x. Rep SSFUDG x -&gt; SSFUDG
forall x. SSFUDG -&gt; Rep SSFUDG x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SSFUDG x -&gt; SSFUDG
$cfrom :: forall x. SSFUDG -&gt; Rep SSFUDG x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172312"><span id="local-6989586621679172314"><span id="local-6989586621679172316"><span id="local-6989586621679172318"><span id="local-6989586621679172320"><span id="local-6989586621679172322"><span id="local-6989586621679172324"><span id="local-6989586621679172326"><span class="annot"><span class="annottext">Int -&gt; SSFUDG
SSFUDG -&gt; Int
SSFUDG -&gt; [SSFUDG]
SSFUDG -&gt; SSFUDG
SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
SSFUDG -&gt; SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
(SSFUDG -&gt; SSFUDG)
-&gt; (SSFUDG -&gt; SSFUDG)
-&gt; (Int -&gt; SSFUDG)
-&gt; (SSFUDG -&gt; Int)
-&gt; (SSFUDG -&gt; [SSFUDG])
-&gt; (SSFUDG -&gt; SSFUDG -&gt; [SSFUDG])
-&gt; (SSFUDG -&gt; SSFUDG -&gt; [SSFUDG])
-&gt; (SSFUDG -&gt; SSFUDG -&gt; SSFUDG -&gt; [SSFUDG])
-&gt; Enum SSFUDG
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
$cenumFromThenTo :: SSFUDG -&gt; SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
enumFromTo :: SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
$cenumFromTo :: SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
enumFromThen :: SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
$cenumFromThen :: SSFUDG -&gt; SSFUDG -&gt; [SSFUDG]
enumFrom :: SSFUDG -&gt; [SSFUDG]
$cenumFrom :: SSFUDG -&gt; [SSFUDG]
fromEnum :: SSFUDG -&gt; Int
$cfromEnum :: SSFUDG -&gt; Int
toEnum :: Int -&gt; SSFUDG
$ctoEnum :: Int -&gt; SSFUDG
pred :: SSFUDG -&gt; SSFUDG
$cpred :: SSFUDG -&gt; SSFUDG
succ :: SSFUDG -&gt; SSFUDG
$csucc :: SSFUDG -&gt; SSFUDG
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172307"><span id="local-6989586621679172309"><span class="annot"><span class="annottext">SSFUDG
SSFUDG -&gt; SSFUDG -&gt; Bounded SSFUDG
forall a. a -&gt; a -&gt; Bounded a
maxBound :: SSFUDG
$cmaxBound :: SSFUDG
minBound :: SSFUDG
$cminBound :: SSFUDG
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172301"><span id="local-6989586621679172304"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679172299"><span class="annot"><span class="annottext">show :: SSFUDG -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFMinus"><span class="hs-identifier hs-var">SSFMinus</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;minus&quot;</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFHalf"><span class="hs-identifier hs-var">SSFHalf</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;half&quot;</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFPlus"><span class="hs-identifier hs-var">SSFPlus</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;plus&quot;</span></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span id="local-6989586621679172511"><span class="annot"><a href="Poseidon.SequencingSource.html#makeSSFUDG"><span class="hs-identifier hs-type">makeSSFUDG</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679172511"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679172511"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span></span><span>
</span><span id="line-49"></span><span id="makeSSFUDG"><span class="annot"><span class="annottext">makeSSFUDG :: String -&gt; m SSFUDG
</span><a href="Poseidon.SequencingSource.html#makeSSFUDG"><span class="hs-identifier hs-var hs-var">makeSSFUDG</span></a></span></span><span> </span><span id="local-6989586621679172296"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172296"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172296"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;minus&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SSFUDG -&gt; m SSFUDG
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFMinus"><span class="hs-identifier hs-var">SSFMinus</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172296"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;half&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SSFUDG -&gt; m SSFUDG
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFHalf"><span class="hs-identifier hs-var">SSFHalf</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172296"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;plus&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SSFUDG -&gt; m SSFUDG
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="Poseidon.SequencingSource.html#SSFPlus"><span class="hs-identifier hs-var">SSFPlus</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m SSFUDG
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m SSFUDG) -&gt; String -&gt; m SSFUDG
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;UDG &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172296"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; not in [minus, half, plus]&quot;</span></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.ToField</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>    </span><span id="local-6989586621679172293"><span class="annot"><span class="annottext">toField :: SSFUDG -&gt; Field
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></span></span><span> </span><span id="local-6989586621679172291"><span class="annot"><span class="annottext">SSFUDG
</span><a href="#local-6989586621679172291"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Field
forall a. ToField a =&gt; a -&gt; Field
</span><span class="hs-identifier hs-var">Csv.toField</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Field) -&gt; String -&gt; Field
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="#local-6989586621679172291"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.FromField</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679172288"><span class="annot"><span class="annottext">parseField :: Field -&gt; Parser SSFUDG
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseField</span></span></span><span> </span><span id="local-6989586621679172286"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172286"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Parser String
forall a. FromField a =&gt; Field -&gt; Parser a
</span><span class="hs-identifier hs-var">Csv.parseField</span></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172286"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; (String -&gt; Parser SSFUDG) -&gt; Parser SSFUDG
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser SSFUDG
forall (m :: * -&gt; *). MonadFail m =&gt; String -&gt; m SSFUDG
</span><a href="Poseidon.SequencingSource.html#makeSSFUDG"><span class="hs-identifier hs-var">makeSSFUDG</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172279"><span id="local-6989586621679172281"><span id="local-6989586621679172284"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>    </span><span id="local-6989586621679172277"><span class="annot"><span class="annottext">toEncoding :: SSFUDG -&gt; Encoding
</span><a href="#local-6989586621679172277"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span id="local-6989586621679172276"><span class="annot"><span class="annottext">SSFUDG
</span><a href="#local-6989586621679172276"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding
forall a. Text -&gt; Encoding' a
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Encoding) -&gt; Text -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFUDG
</span><a href="#local-6989586621679172276"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172272"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>    </span><span id="local-6989586621679172270"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser SSFUDG
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser SSFUDG) -&gt; Value -&gt; Parser SSFUDG
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SSFUDG&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser SSFUDG
forall (m :: * -&gt; *). MonadFail m =&gt; String -&gt; m SSFUDG
</span><a href="Poseidon.SequencingSource.html#makeSSFUDG"><span class="hs-identifier hs-var">makeSSFUDG</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser SSFUDG)
-&gt; (Text -&gt; String) -&gt; Text -&gt; Parser SSFUDG
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-comment">-- |A datatype to represent Library_Built in a janno file</span><span>
</span><span id="line-65"></span><span id="local-6989586621679172265"><span id="local-6989586621679172266"></span></span><span class="hs-keyword">data</span><span> </span><span id="SSFLibraryBuilt"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-var">SSFLibraryBuilt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-66"></span><span>      </span><span id="SSFDS"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFDS"><span class="hs-identifier hs-var">SSFDS</span></a></span></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SSFSS"><span class="annot"><a href="Poseidon.SequencingSource.html#SSFSS"><span class="hs-identifier hs-var">SSFSS</span></a></span></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172259"><span id="local-6989586621679172261"><span class="annot"><span class="annottext">SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
(SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; Eq SSFLibraryBuilt
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c/= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
== :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c== :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172244"><span id="local-6989586621679172246"><span id="local-6989586621679172248"><span id="local-6989586621679172250"><span id="local-6989586621679172252"><span id="local-6989586621679172254"><span id="local-6989586621679172256"><span class="annot"><span class="annottext">Eq SSFLibraryBuilt
Eq SSFLibraryBuilt
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Ordering)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt)
-&gt; Ord SSFLibraryBuilt
SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Ordering
SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt
$cmin :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt
max :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt
$cmax :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt
&gt;= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c&gt;= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
&gt; :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c&gt; :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
&lt;= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c&lt;= :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
&lt; :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
$c&lt; :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bool
compare :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Ordering
$ccompare :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Ordering
$cp1Ord :: Eq SSFLibraryBuilt
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SSFLibraryBuilt -&gt; Rep SSFLibraryBuilt x)
-&gt; (forall x. Rep SSFLibraryBuilt x -&gt; SSFLibraryBuilt)
-&gt; Generic SSFLibraryBuilt
forall x. Rep SSFLibraryBuilt x -&gt; SSFLibraryBuilt
forall x. SSFLibraryBuilt -&gt; Rep SSFLibraryBuilt x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SSFLibraryBuilt x -&gt; SSFLibraryBuilt
$cfrom :: forall x. SSFLibraryBuilt -&gt; Rep SSFLibraryBuilt x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172226"><span id="local-6989586621679172228"><span id="local-6989586621679172230"><span id="local-6989586621679172232"><span id="local-6989586621679172234"><span id="local-6989586621679172236"><span id="local-6989586621679172238"><span id="local-6989586621679172240"><span class="annot"><span class="annottext">Int -&gt; SSFLibraryBuilt
SSFLibraryBuilt -&gt; Int
SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
SSFLibraryBuilt -&gt; SSFLibraryBuilt
SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
SSFLibraryBuilt
-&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
(SSFLibraryBuilt -&gt; SSFLibraryBuilt)
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt)
-&gt; (Int -&gt; SSFLibraryBuilt)
-&gt; (SSFLibraryBuilt -&gt; Int)
-&gt; (SSFLibraryBuilt -&gt; [SSFLibraryBuilt])
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt])
-&gt; (SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt])
-&gt; (SSFLibraryBuilt
    -&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt])
-&gt; Enum SSFLibraryBuilt
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: SSFLibraryBuilt
-&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
$cenumFromThenTo :: SSFLibraryBuilt
-&gt; SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
enumFromTo :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
$cenumFromTo :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
enumFromThen :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
$cenumFromThen :: SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
enumFrom :: SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
$cenumFrom :: SSFLibraryBuilt -&gt; [SSFLibraryBuilt]
fromEnum :: SSFLibraryBuilt -&gt; Int
$cfromEnum :: SSFLibraryBuilt -&gt; Int
toEnum :: Int -&gt; SSFLibraryBuilt
$ctoEnum :: Int -&gt; SSFLibraryBuilt
pred :: SSFLibraryBuilt -&gt; SSFLibraryBuilt
$cpred :: SSFLibraryBuilt -&gt; SSFLibraryBuilt
succ :: SSFLibraryBuilt -&gt; SSFLibraryBuilt
$csucc :: SSFLibraryBuilt -&gt; SSFLibraryBuilt
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172222"><span id="local-6989586621679172224"><span class="annot"><span class="annottext">SSFLibraryBuilt
SSFLibraryBuilt -&gt; SSFLibraryBuilt -&gt; Bounded SSFLibraryBuilt
forall a. a -&gt; a -&gt; Bounded a
maxBound :: SSFLibraryBuilt
$cmaxBound :: SSFLibraryBuilt
minBound :: SSFLibraryBuilt
$cminBound :: SSFLibraryBuilt
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172217"><span id="local-6989586621679172220"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621679172216"><span class="annot"><span class="annottext">show :: SSFLibraryBuilt -&gt; String
</span><a href="#local-6989586621679172216"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#SSFDS"><span class="hs-identifier hs-var">SSFDS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ds&quot;</span></span><span>
</span><span id="line-72"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#SSFSS"><span class="hs-identifier hs-var">SSFSS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ss&quot;</span></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span id="local-6989586621679172493"><span class="annot"><a href="Poseidon.SequencingSource.html#makeSSFLibraryBuilt"><span class="hs-identifier hs-type">makeSSFLibraryBuilt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621679172493"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679172493"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span></span><span>
</span><span id="line-75"></span><span id="makeSSFLibraryBuilt"><span class="annot"><span class="annottext">makeSSFLibraryBuilt :: String -&gt; m SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#makeSSFLibraryBuilt"><span class="hs-identifier hs-var hs-var">makeSSFLibraryBuilt</span></a></span></span><span> </span><span id="local-6989586621679172214"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172214"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172214"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ds&quot;</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt -&gt; m SSFLibraryBuilt
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#SSFDS"><span class="hs-identifier hs-var">SSFDS</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172214"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ss&quot;</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt -&gt; m SSFLibraryBuilt
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#SSFSS"><span class="hs-identifier hs-var">SSFSS</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m SSFLibraryBuilt
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m SSFLibraryBuilt) -&gt; String -&gt; m SSFLibraryBuilt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Library_Built &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172214"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; not in [ds, ss]&quot;</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.ToField</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>    </span><span id="local-6989586621679172212"><span class="annot"><span class="annottext">toField :: SSFLibraryBuilt -&gt; Field
</span><a href="#local-6989586621679172212"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span id="local-6989586621679172211"><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="#local-6989586621679172211"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Field
forall a. ToField a =&gt; a -&gt; Field
</span><span class="hs-identifier hs-var">Csv.toField</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Field) -&gt; String -&gt; Field
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="#local-6989586621679172211"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.FromField</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679172209"><span class="annot"><span class="annottext">parseField :: Field -&gt; Parser SSFLibraryBuilt
</span><a href="#local-6989586621679172209"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseField</span></a></span></span><span> </span><span id="local-6989586621679172208"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172208"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Parser String
forall a. FromField a =&gt; Field -&gt; Parser a
</span><span class="hs-identifier hs-var">Csv.parseField</span></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172208"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
-&gt; (String -&gt; Parser SSFLibraryBuilt) -&gt; Parser SSFLibraryBuilt
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser SSFLibraryBuilt
forall (m :: * -&gt; *). MonadFail m =&gt; String -&gt; m SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#makeSSFLibraryBuilt"><span class="hs-identifier hs-var">makeSSFLibraryBuilt</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172201"><span id="local-6989586621679172203"><span id="local-6989586621679172206"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621679172200"><span class="annot"><span class="annottext">toEncoding :: SSFLibraryBuilt -&gt; Encoding
</span><a href="#local-6989586621679172200"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span id="local-6989586621679172199"><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="#local-6989586621679172199"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding
forall a. Text -&gt; Encoding' a
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Encoding) -&gt; Text -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SSFLibraryBuilt
</span><a href="#local-6989586621679172199"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172196"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621679172195"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser SSFLibraryBuilt
</span><a href="#local-6989586621679172195"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Text -&gt; Parser SSFLibraryBuilt)
-&gt; Value
-&gt; Parser SSFLibraryBuilt
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SSFLibraryBuilt&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser SSFLibraryBuilt
forall (m :: * -&gt; *). MonadFail m =&gt; String -&gt; m SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#makeSSFLibraryBuilt"><span class="hs-identifier hs-var">makeSSFLibraryBuilt</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser SSFLibraryBuilt)
-&gt; (Text -&gt; String) -&gt; Text -&gt; Parser SSFLibraryBuilt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- | A data type to represent a seqSourceFile</span><span>
</span><span id="line-90"></span><span id="local-6989586621679172193"><span id="local-6989586621679172194"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="SeqSourceRows"><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-var">SeqSourceRows</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SeqSourceRows"><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-var">SeqSourceRows</span></a></span></span><span> </span><span class="hs-special">{</span><span id="getSeqSourceRowList"><span class="annot"><span class="annottext">SeqSourceRows -&gt; [SeqSourceRow]
</span><a href="Poseidon.SequencingSource.html#getSeqSourceRowList"><span class="hs-identifier hs-var hs-var">getSeqSourceRowList</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172185"><span id="local-6989586621679172187"><span id="local-6989586621679172189"><span class="annot"><span class="annottext">Int -&gt; SeqSourceRows -&gt; ShowS
[SeqSourceRows] -&gt; ShowS
SeqSourceRows -&gt; String
(Int -&gt; SeqSourceRows -&gt; ShowS)
-&gt; (SeqSourceRows -&gt; String)
-&gt; ([SeqSourceRows] -&gt; ShowS)
-&gt; Show SeqSourceRows
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SeqSourceRows] -&gt; ShowS
$cshowList :: [SeqSourceRows] -&gt; ShowS
show :: SeqSourceRows -&gt; String
$cshow :: SeqSourceRows -&gt; String
showsPrec :: Int -&gt; SeqSourceRows -&gt; ShowS
$cshowsPrec :: Int -&gt; SeqSourceRows -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172181"><span id="local-6989586621679172183"><span class="annot"><span class="annottext">SeqSourceRows -&gt; SeqSourceRows -&gt; Bool
(SeqSourceRows -&gt; SeqSourceRows -&gt; Bool)
-&gt; (SeqSourceRows -&gt; SeqSourceRows -&gt; Bool) -&gt; Eq SeqSourceRows
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SeqSourceRows -&gt; SeqSourceRows -&gt; Bool
$c/= :: SeqSourceRows -&gt; SeqSourceRows -&gt; Bool
== :: SeqSourceRows -&gt; SeqSourceRows -&gt; Bool
$c== :: SeqSourceRows -&gt; SeqSourceRows -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SeqSourceRows -&gt; Rep SeqSourceRows x)
-&gt; (forall x. Rep SeqSourceRows x -&gt; SeqSourceRows)
-&gt; Generic SeqSourceRows
forall x. Rep SeqSourceRows x -&gt; SeqSourceRows
forall x. SeqSourceRows -&gt; Rep SeqSourceRows x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SeqSourceRows x -&gt; SeqSourceRows
$cfrom :: forall x. SeqSourceRows -&gt; Rep SeqSourceRows x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172174"><span id="local-6989586621679172176"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span id="local-6989586621679172172"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172172"><span class="hs-identifier hs-var">j1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679172171"><span class="annot"><span class="annottext">&lt;&gt; :: SeqSourceRows -&gt; SeqSourceRows -&gt; SeqSourceRows
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span id="local-6989586621679172170"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172170"><span class="hs-identifier hs-var">j2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-var">SeqSourceRows</span></a></span><span> </span><span class="annot"><span class="annottext">([SeqSourceRow] -&gt; SeqSourceRows)
-&gt; [SeqSourceRow] -&gt; SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172172"><span class="hs-identifier hs-var">j1</span></a></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; [SeqSourceRow] -&gt; [SeqSourceRow]
</span><a href="#local-6989586621679172169"><span class="hs-operator hs-var">`combineTwoSeqSources`</span></a></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172170"><span class="hs-identifier hs-var">j2</span></a></span><span>
</span><span id="line-95"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="#local-6989586621679172169"><span class="hs-identifier hs-type">combineTwoSeqSources</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>        </span><span id="local-6989586621679172169"><span class="annot"><span class="annottext">combineTwoSeqSources :: [SeqSourceRow] -&gt; [SeqSourceRow] -&gt; [SeqSourceRow]
</span><a href="#local-6989586621679172169"><span class="hs-identifier hs-var hs-var">combineTwoSeqSources</span></a></span></span><span> </span><span id="local-6989586621679172168"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172168"><span class="hs-identifier hs-var">seqSource1</span></a></span></span><span> </span><span id="local-6989586621679172167"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172167"><span class="hs-identifier hs-var">seqSource2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172166"><span class="annot"><span class="annottext">simpleSeqSourceSum :: [SeqSourceRow]
</span><a href="#local-6989586621679172166"><span class="hs-identifier hs-var hs-var">simpleSeqSourceSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172168"><span class="hs-identifier hs-var">seqSource1</span></a></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; [SeqSourceRow] -&gt; [SeqSourceRow]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172167"><span class="hs-identifier hs-var">seqSource2</span></a></span><span>
</span><span id="line-99"></span><span>                </span><span id="local-6989586621679172165"><span class="annot"><span class="annottext">toAddColNames :: [Field]
</span><a href="#local-6989586621679172165"><span class="hs-identifier hs-var hs-var">toAddColNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; [Field]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">HM.keys</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HashMap Field Field] -&gt; HashMap Field Field
forall k v. (Eq k, Hashable k) =&gt; [HashMap k v] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HM.unions</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; HashMap Field Field)
-&gt; [SeqSourceRow] -&gt; [HashMap Field Field]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CsvNamedRecord -&gt; HashMap Field Field
</span><a href="Poseidon.Janno.html#getCsvNR"><span class="hs-identifier hs-var">getCsvNR</span></a></span><span> </span><span class="annot"><span class="annottext">(CsvNamedRecord -&gt; HashMap Field Field)
-&gt; (SeqSourceRow -&gt; CsvNamedRecord)
-&gt; SeqSourceRow
-&gt; HashMap Field Field
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var hs-var">sAdditionalColumns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172166"><span class="hs-identifier hs-var">simpleSeqSourceSum</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>                </span><span id="local-6989586621679172161"><span class="annot"><span class="annottext">toAddEmptyCols :: HashMap Field Field
</span><a href="#local-6989586621679172161"><span class="hs-identifier hs-var hs-var">toAddEmptyCols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Field, Field)] -&gt; HashMap Field Field
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HM.fromList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Field -&gt; (Field, Field)) -&gt; [Field] -&gt; [(Field, Field)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679172159"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172159"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172159"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;n/a&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679172165"><span class="hs-identifier hs-var">toAddColNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; SeqSourceRow) -&gt; [SeqSourceRow] -&gt; [SeqSourceRow]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Field Field -&gt; SeqSourceRow -&gt; SeqSourceRow
</span><a href="#local-6989586621679172158"><span class="hs-identifier hs-var">addEmptyAddColsToSeqSourceRow</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172161"><span class="hs-identifier hs-var">toAddEmptyCols</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172166"><span class="hs-identifier hs-var">simpleSeqSourceSum</span></a></span><span>
</span><span id="line-102"></span><span>        </span><span class="annot"><a href="#local-6989586621679172158"><span class="hs-identifier hs-type">addEmptyAddColsToSeqSourceRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.NamedRecord</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span>
</span><span id="line-103"></span><span>        </span><span id="local-6989586621679172158"><span class="annot"><span class="annottext">addEmptyAddColsToSeqSourceRow :: HashMap Field Field -&gt; SeqSourceRow -&gt; SeqSourceRow
</span><a href="#local-6989586621679172158"><span class="hs-identifier hs-var hs-var">addEmptyAddColsToSeqSourceRow</span></a></span></span><span> </span><span id="local-6989586621679172156"><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172156"><span class="hs-identifier hs-var">toAdd</span></a></span></span><span> </span><span id="local-6989586621679172155"><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172155"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>            </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172155"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sAdditionalColumns :: CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var">sAdditionalColumns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; CsvNamedRecord
</span><a href="Poseidon.Janno.html#CsvNamedRecord"><span class="hs-identifier hs-var">CsvNamedRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap Field Field -&gt; CsvNamedRecord)
-&gt; HashMap Field Field -&gt; CsvNamedRecord
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; HashMap Field Field -&gt; HashMap Field Field
</span><a href="#local-6989586621679172153"><span class="hs-identifier hs-var">fillAddCols</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172156"><span class="hs-identifier hs-var">toAdd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CsvNamedRecord -&gt; HashMap Field Field
</span><a href="Poseidon.Janno.html#getCsvNR"><span class="hs-identifier hs-var">getCsvNR</span></a></span><span> </span><span class="annot"><span class="annottext">(CsvNamedRecord -&gt; HashMap Field Field)
-&gt; CsvNamedRecord -&gt; HashMap Field Field
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var hs-var">sAdditionalColumns</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172155"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="#local-6989586621679172153"><span class="hs-identifier hs-type">fillAddCols</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.NamedRecord</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.NamedRecord</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.NamedRecord</span></span><span>
</span><span id="line-106"></span><span>        </span><span id="local-6989586621679172153"><span class="annot"><span class="annottext">fillAddCols :: HashMap Field Field -&gt; HashMap Field Field -&gt; HashMap Field Field
</span><a href="#local-6989586621679172153"><span class="hs-identifier hs-var hs-var">fillAddCols</span></a></span></span><span> </span><span id="local-6989586621679172152"><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172152"><span class="hs-identifier hs-var">toAdd</span></a></span></span><span> </span><span id="local-6989586621679172151"><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172151"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; HashMap Field Field -&gt; HashMap Field Field
forall k v.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HM.union</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172151"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172152"><span class="hs-identifier hs-var">toAdd</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; HashMap Field Field -&gt; HashMap Field Field
forall k v w.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k w -&gt; HashMap k v
</span><span class="hs-operator hs-var">`HM.difference`</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172151"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172145"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621679172142"><span class="annot"><span class="annottext">mempty :: SeqSourceRows
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-var">SeqSourceRows</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>    </span><span id="local-6989586621679172141"><span class="annot"><span class="annottext">mconcat :: [SeqSourceRows] -&gt; SeqSourceRows
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mconcat</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SeqSourceRows -&gt; SeqSourceRows -&gt; SeqSourceRows)
-&gt; SeqSourceRows -&gt; [SeqSourceRows] -&gt; SeqSourceRows
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows -&gt; SeqSourceRows -&gt; SeqSourceRows
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172134"><span id="local-6989586621679172136"><span id="local-6989586621679172139"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>    </span><span id="local-6989586621679172133"><span class="annot"><span class="annottext">toEncoding :: SeqSourceRows -&gt; Encoding
</span><a href="#local-6989586621679172133"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; SeqSourceRows -&gt; Encoding
forall a.
(Generic a, GToJSON' Encoding Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">genericToEncoding</span></span><span> </span><span class="annot"><span class="annottext">Options
</span><span class="hs-identifier hs-var">defaultOptions</span></span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172129"><span id="local-6989586621679172131"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span></span></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | A data type to represent a row in the seqSourceFile</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- See https://github.com/poseidon-framework/poseidon2-schema/blob/master/seqSourceFile_columns.tsv</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- for more details</span><span>
</span><span id="line-119"></span><span id="local-6989586621679172127"><span id="local-6989586621679172128"></span></span><span class="hs-keyword">data</span><span> </span><span id="SeqSourceRow"><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-var">SeqSourceRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SeqSourceRow"><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-var">SeqSourceRow</span></a></span></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="sPoseidonID"><span class="annot"><span class="annottext">SeqSourceRow -&gt; JannoStringList
</span><a href="Poseidon.SequencingSource.html#sPoseidonID"><span class="hs-identifier hs-var hs-var">sPoseidonID</span></a></span></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JannoStringList"><span class="hs-identifier hs-type">JannoStringList</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sUDG"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe SSFUDG
</span><a href="Poseidon.SequencingSource.html#sUDG"><span class="hs-identifier hs-var hs-var">sUDG</span></a></span></span><span>                       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFUDG"><span class="hs-identifier hs-type">SSFUDG</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLibraryBuilt"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#sLibraryBuilt"><span class="hs-identifier hs-var hs-var">sLibraryBuilt</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SSFLibraryBuilt"><span class="hs-identifier hs-type">SSFLibraryBuilt</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sGeneticSourceAccessionIDs"><span class="annot"><span class="annottext">SeqSourceRow -&gt; AccessionID
</span><a href="Poseidon.SequencingSource.html#sGeneticSourceAccessionIDs"><span class="hs-identifier hs-var hs-var">sGeneticSourceAccessionIDs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#AccessionID"><span class="hs-identifier hs-type">AccessionID</span></a></span><span> </span><span class="hs-comment">-- could be a specific AccessionID</span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sStudyAccession"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe AccessionID
</span><a href="Poseidon.SequencingSource.html#sStudyAccession"><span class="hs-identifier hs-var hs-var">sStudyAccession</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.Janno.html#AccessionID"><span class="hs-identifier hs-type">AccessionID</span></a></span><span> </span><span class="hs-comment">-- could be a specific AccessionID</span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sRunAccession"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe AccessionID
</span><a href="Poseidon.SequencingSource.html#sRunAccession"><span class="hs-identifier hs-var hs-var">sRunAccession</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.Janno.html#AccessionID"><span class="hs-identifier hs-type">AccessionID</span></a></span><span> </span><span class="hs-comment">-- could be a specific AccessionID</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sSampleAlias"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sSampleAlias"><span class="hs-identifier hs-var hs-var">sSampleAlias</span></a></span></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sSecondarySampleAccession"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sSecondarySampleAccession"><span class="hs-identifier hs-var hs-var">sSecondarySampleAccession</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sFirstPublic"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sFirstPublic"><span class="hs-identifier hs-var hs-var">sFirstPublic</span></a></span></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- could be a date type</span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLastUpdated"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLastUpdated"><span class="hs-identifier hs-var hs-var">sLastUpdated</span></a></span></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- could be a date type</span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sInstrumentModel"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sInstrumentModel"><span class="hs-identifier hs-var hs-var">sInstrumentModel</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLibraryLayout"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryLayout"><span class="hs-identifier hs-var hs-var">sLibraryLayout</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLibrarySource"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibrarySource"><span class="hs-identifier hs-var hs-var">sLibrarySource</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sInstrumentPlatform"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sInstrumentPlatform"><span class="hs-identifier hs-var hs-var">sInstrumentPlatform</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLibraryName"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryName"><span class="hs-identifier hs-var hs-var">sLibraryName</span></a></span></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sLibraryStrategy"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryStrategy"><span class="hs-identifier hs-var hs-var">sLibraryStrategy</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sFastqFTP"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sFastqFTP"><span class="hs-identifier hs-var hs-var">sFastqFTP</span></a></span></span><span>                  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JURI"><span class="hs-identifier hs-type">JURI</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sFastqASPERA"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sFastqASPERA"><span class="hs-identifier hs-var hs-var">sFastqASPERA</span></a></span></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JURI"><span class="hs-identifier hs-type">JURI</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sFastqBytes"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe Integer
</span><a href="Poseidon.SequencingSource.html#sFastqBytes"><span class="hs-identifier hs-var hs-var">sFastqBytes</span></a></span></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-comment">-- integer, not int, because it can be a very large number</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sFastqMD5"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sFastqMD5"><span class="hs-identifier hs-var hs-var">sFastqMD5</span></a></span></span><span>                  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- could be a dedicated md5 type</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sReadCount"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe Integer
</span><a href="Poseidon.SequencingSource.html#sReadCount"><span class="hs-identifier hs-var hs-var">sReadCount</span></a></span></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-comment">-- integer, not int, because it can be a very large number</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sSubmittedFTP"><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sSubmittedFTP"><span class="hs-identifier hs-var hs-var">sSubmittedFTP</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Poseidon.Janno.html#JURI"><span class="hs-identifier hs-type">JURI</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sAdditionalColumns"><span class="annot"><span class="annottext">SeqSourceRow -&gt; CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var hs-var">sAdditionalColumns</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.Janno.html#CsvNamedRecord"><span class="hs-identifier hs-type">CsvNamedRecord</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172098"><span id="local-6989586621679172100"><span id="local-6989586621679172102"><span class="annot"><span class="annottext">Int -&gt; SeqSourceRow -&gt; ShowS
[SeqSourceRow] -&gt; ShowS
SeqSourceRow -&gt; String
(Int -&gt; SeqSourceRow -&gt; ShowS)
-&gt; (SeqSourceRow -&gt; String)
-&gt; ([SeqSourceRow] -&gt; ShowS)
-&gt; Show SeqSourceRow
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SeqSourceRow] -&gt; ShowS
$cshowList :: [SeqSourceRow] -&gt; ShowS
show :: SeqSourceRow -&gt; String
$cshow :: SeqSourceRow -&gt; String
showsPrec :: Int -&gt; SeqSourceRow -&gt; ShowS
$cshowsPrec :: Int -&gt; SeqSourceRow -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172094"><span id="local-6989586621679172096"><span class="annot"><span class="annottext">SeqSourceRow -&gt; SeqSourceRow -&gt; Bool
(SeqSourceRow -&gt; SeqSourceRow -&gt; Bool)
-&gt; (SeqSourceRow -&gt; SeqSourceRow -&gt; Bool) -&gt; Eq SeqSourceRow
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SeqSourceRow -&gt; SeqSourceRow -&gt; Bool
$c/= :: SeqSourceRow -&gt; SeqSourceRow -&gt; Bool
== :: SeqSourceRow -&gt; SeqSourceRow -&gt; Bool
$c== :: SeqSourceRow -&gt; SeqSourceRow -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SeqSourceRow -&gt; Rep SeqSourceRow x)
-&gt; (forall x. Rep SeqSourceRow x -&gt; SeqSourceRow)
-&gt; Generic SeqSourceRow
forall x. Rep SeqSourceRow x -&gt; SeqSourceRow
forall x. SeqSourceRow -&gt; Rep SeqSourceRow x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SeqSourceRow x -&gt; SeqSourceRow
$cfrom :: forall x. SeqSourceRow -&gt; Rep SeqSourceRow x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- This header also defines the output column order when writing to csv!</span><span>
</span><span id="line-147"></span><span class="annot"><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-type">seqSourceHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Bchs.ByteString</span></span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span id="seqSourceHeader"><span class="annot"><span class="annottext">seqSourceHeader :: [Field]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-var hs-var">seqSourceHeader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;poseidon_IDs&quot;</span></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;udg&quot;</span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_built&quot;</span></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_accession&quot;</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;study_accession&quot;</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;run_accession&quot;</span></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_alias&quot;</span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;secondary_sample_accession&quot;</span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;first_public&quot;</span></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;last_updated&quot;</span></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_model&quot;</span></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_layout&quot;</span></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_source&quot;</span></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_platform&quot;</span></span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_name&quot;</span></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_strategy&quot;</span></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_ftp&quot;</span></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_aspera&quot;</span></span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_bytes&quot;</span></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_md5&quot;</span></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;read_count&quot;</span></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;submitted_ftp&quot;</span></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.DefaultOrdered</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span>    </span><span id="local-6989586621679172087"><span class="annot"><span class="annottext">headerOrder :: SeqSourceRow -&gt; Header
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">headerOrder</span></span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Field] -&gt; Header
</span><span class="hs-identifier hs-var">Csv.header</span></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-var">seqSourceHeader</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Poseidon.SequencingSource.html#seqSourceHeaderString"><span class="hs-identifier hs-type">seqSourceHeaderString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-177"></span><span id="seqSourceHeaderString"><span class="annot"><span class="annottext">seqSourceHeaderString :: [String]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeaderString"><span class="hs-identifier hs-var hs-var">seqSourceHeaderString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Field -&gt; String) -&gt; [Field] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Field -&gt; String
</span><span class="hs-identifier hs-var">Bchs.unpack</span></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-var">seqSourceHeader</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-comment">-- This hashmap represents an empty seqSourceFile with all normal, specified columns</span><span>
</span><span id="line-180"></span><span class="annot"><a href="Poseidon.SequencingSource.html#seqSourceRefHashMap"><span class="hs-identifier hs-type">seqSourceRefHashMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HM.HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bchs.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span id="seqSourceRefHashMap"><span class="annot"><span class="annottext">seqSourceRefHashMap :: HashMap Field ()
</span><a href="Poseidon.SequencingSource.html#seqSourceRefHashMap"><span class="hs-identifier hs-var hs-var">seqSourceRefHashMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Field, ())] -&gt; HashMap Field ()
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HM.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Field, ())] -&gt; HashMap Field ())
-&gt; [(Field, ())] -&gt; HashMap Field ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Field -&gt; (Field, ())) -&gt; [Field] -&gt; [(Field, ())]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679172081"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172081"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679172081"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-var">seqSourceHeader</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172074"><span id="local-6989586621679172076"><span id="local-6989586621679172079"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621679172073"><span class="annot"><span class="annottext">toEncoding :: SeqSourceRow -&gt; Encoding
</span><a href="#local-6989586621679172073"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; SeqSourceRow -&gt; Encoding
forall a.
(Generic a, GToJSON' Encoding Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">genericToEncoding</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Options
</span><span class="hs-identifier hs-var">defaultOptions</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">omitNothingFields :: Bool
</span><a href="#local-6989586621679172072"><span class="hs-identifier hs-var">omitNothingFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679172068"><span id="local-6989586621679172070"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span></span></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.FromNamedRecord</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621679172065"><span class="annot"><span class="annottext">parseNamedRecord :: HashMap Field Field -&gt; Parser SeqSourceRow
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseNamedRecord</span></span></span><span> </span><span id="local-6989586621679172063"><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JannoStringList
-&gt; Maybe SSFUDG
-&gt; Maybe SSFLibraryBuilt
-&gt; AccessionID
-&gt; Maybe AccessionID
-&gt; Maybe AccessionID
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe JURI
-&gt; Maybe JURI
-&gt; Maybe Integer
-&gt; Maybe String
-&gt; Maybe Integer
-&gt; Maybe JURI
-&gt; CsvNamedRecord
-&gt; SeqSourceRow
</span><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-var">SeqSourceRow</span></a></span><span>
</span><span id="line-190"></span><span>        </span><span class="annot"><span class="annottext">(JannoStringList
 -&gt; Maybe SSFUDG
 -&gt; Maybe SSFLibraryBuilt
 -&gt; AccessionID
 -&gt; Maybe AccessionID
 -&gt; Maybe AccessionID
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe String
 -&gt; Maybe JURI
 -&gt; Maybe JURI
 -&gt; Maybe Integer
 -&gt; Maybe String
 -&gt; Maybe Integer
 -&gt; Maybe JURI
 -&gt; CsvNamedRecord
 -&gt; SeqSourceRow)
-&gt; Parser JannoStringList
-&gt; Parser
     (Maybe SSFUDG
      -&gt; Maybe SSFLibraryBuilt
      -&gt; AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser JannoStringList
forall a. FromField a =&gt; HashMap Field Field -&gt; Field -&gt; Parser a
</span><a href="Poseidon.Janno.html#filterLookup"><span class="hs-identifier hs-var">filterLookup</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span>         </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;poseidon_IDs&quot;</span></span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe SSFUDG
   -&gt; Maybe SSFLibraryBuilt
   -&gt; AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe SSFUDG)
-&gt; Parser
     (Maybe SSFLibraryBuilt
      -&gt; AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe SSFUDG)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;udg&quot;</span></span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe SSFLibraryBuilt
   -&gt; AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe SSFLibraryBuilt)
-&gt; Parser
     (AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe SSFLibraryBuilt)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_built&quot;</span></span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser AccessionID
-&gt; Parser
     (Maybe AccessionID
      -&gt; Maybe AccessionID
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser AccessionID
forall a. FromField a =&gt; HashMap Field Field -&gt; Field -&gt; Parser a
</span><a href="Poseidon.Janno.html#filterLookup"><span class="hs-identifier hs-var">filterLookup</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span>         </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_accession&quot;</span></span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe AccessionID
   -&gt; Maybe AccessionID
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe AccessionID)
-&gt; Parser
     (Maybe AccessionID
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe AccessionID)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;study_accession&quot;</span></span><span>
</span><span id="line-195"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe AccessionID
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe AccessionID)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe AccessionID)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;run_accession&quot;</span></span><span>
</span><span id="line-196"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_alias&quot;</span></span><span>
</span><span id="line-197"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;secondary_sample_accession&quot;</span></span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;first_public&quot;</span></span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;last_updated&quot;</span></span><span>
</span><span id="line-200"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_model&quot;</span></span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_layout&quot;</span></span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_source&quot;</span></span><span>
</span><span id="line-203"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_platform&quot;</span></span><span>
</span><span id="line-204"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe String
      -&gt; Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_name&quot;</span></span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe JURI
      -&gt; Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_strategy&quot;</span></span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe JURI
   -&gt; Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe JURI)
-&gt; Parser
     (Maybe JURI
      -&gt; Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe JURI)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_ftp&quot;</span></span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe JURI
   -&gt; Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe JURI)
-&gt; Parser
     (Maybe Integer
      -&gt; Maybe String
      -&gt; Maybe Integer
      -&gt; Maybe JURI
      -&gt; CsvNamedRecord
      -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe JURI)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_aspera&quot;</span></span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe Integer
   -&gt; Maybe String
   -&gt; Maybe Integer
   -&gt; Maybe JURI
   -&gt; CsvNamedRecord
   -&gt; SeqSourceRow)
-&gt; Parser (Maybe Integer)
-&gt; Parser
     (Maybe String
      -&gt; Maybe Integer -&gt; Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe Integer)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_bytes&quot;</span></span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe String
   -&gt; Maybe Integer -&gt; Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
-&gt; Parser (Maybe String)
-&gt; Parser
     (Maybe Integer -&gt; Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe String)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_md5&quot;</span></span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">Parser
  (Maybe Integer -&gt; Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
-&gt; Parser (Maybe Integer)
-&gt; Parser (Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe Integer)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;read_count&quot;</span></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">Parser (Maybe JURI -&gt; CsvNamedRecord -&gt; SeqSourceRow)
-&gt; Parser (Maybe JURI) -&gt; Parser (CsvNamedRecord -&gt; SeqSourceRow)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; Field -&gt; Parser (Maybe JURI)
forall a.
FromField a =&gt;
HashMap Field Field -&gt; Field -&gt; Parser (Maybe a)
</span><a href="Poseidon.Janno.html#filterLookupOptional"><span class="hs-identifier hs-var">filterLookupOptional</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;submitted_ftp&quot;</span></span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-comment">-- beyond that read everything that is not in the set of defined variables</span><span>
</span><span id="line-213"></span><span>        </span><span class="hs-comment">-- as a separate hashmap</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><span class="annottext">Parser (CsvNamedRecord -&gt; SeqSourceRow)
-&gt; Parser CsvNamedRecord -&gt; Parser SeqSourceRow
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CsvNamedRecord -&gt; Parser CsvNamedRecord
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Field Field -&gt; CsvNamedRecord
</span><a href="Poseidon.Janno.html#CsvNamedRecord"><span class="hs-identifier hs-var">CsvNamedRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Field Field
</span><a href="#local-6989586621679172063"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; HashMap Field () -&gt; HashMap Field Field
forall k v w.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k w -&gt; HashMap k v
</span><span class="hs-operator hs-var">`HM.difference`</span></span><span> </span><span class="annot"><span class="annottext">HashMap Field ()
</span><a href="Poseidon.SequencingSource.html#seqSourceRefHashMap"><span class="hs-identifier hs-var">seqSourceRefHashMap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.ToNamedRecord</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>    </span><span id="local-6989586621679172059"><span class="annot"><span class="annottext">toNamedRecord :: SeqSourceRow -&gt; HashMap Field Field
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toNamedRecord</span></span></span><span> </span><span id="local-6989586621679172057"><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Field, Field)] -&gt; HashMap Field Field
</span><span class="hs-identifier hs-var">Csv.namedRecord</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-218"></span><span>          </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;poseidon_IDs&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; JannoStringList -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; JannoStringList
</span><a href="Poseidon.SequencingSource.html#sPoseidonID"><span class="hs-identifier hs-var hs-var">sPoseidonID</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;udg&quot;</span></span><span>                        </span><span class="annot"><span class="annottext">Field -&gt; Maybe SSFUDG -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe SSFUDG
</span><a href="Poseidon.SequencingSource.html#sUDG"><span class="hs-identifier hs-var hs-var">sUDG</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_built&quot;</span></span><span>              </span><span class="annot"><span class="annottext">Field -&gt; Maybe SSFLibraryBuilt -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe SSFLibraryBuilt
</span><a href="Poseidon.SequencingSource.html#sLibraryBuilt"><span class="hs-identifier hs-var hs-var">sLibraryBuilt</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_accession&quot;</span></span><span>           </span><span class="annot"><span class="annottext">Field -&gt; AccessionID -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; AccessionID
</span><a href="Poseidon.SequencingSource.html#sGeneticSourceAccessionIDs"><span class="hs-identifier hs-var hs-var">sGeneticSourceAccessionIDs</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;study_accession&quot;</span></span><span>            </span><span class="annot"><span class="annottext">Field -&gt; Maybe AccessionID -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe AccessionID
</span><a href="Poseidon.SequencingSource.html#sStudyAccession"><span class="hs-identifier hs-var hs-var">sStudyAccession</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;run_accession&quot;</span></span><span>              </span><span class="annot"><span class="annottext">Field -&gt; Maybe AccessionID -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe AccessionID
</span><a href="Poseidon.SequencingSource.html#sRunAccession"><span class="hs-identifier hs-var hs-var">sRunAccession</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-224"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;sample_alias&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sSampleAlias"><span class="hs-identifier hs-var hs-var">sSampleAlias</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;secondary_sample_accession&quot;</span></span><span> </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sSecondarySampleAccession"><span class="hs-identifier hs-var hs-var">sSecondarySampleAccession</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;first_public&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sFirstPublic"><span class="hs-identifier hs-var hs-var">sFirstPublic</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-227"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;last_updated&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLastUpdated"><span class="hs-identifier hs-var hs-var">sLastUpdated</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_model&quot;</span></span><span>           </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sInstrumentModel"><span class="hs-identifier hs-var hs-var">sInstrumentModel</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_layout&quot;</span></span><span>             </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryLayout"><span class="hs-identifier hs-var hs-var">sLibraryLayout</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_source&quot;</span></span><span>             </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibrarySource"><span class="hs-identifier hs-var hs-var">sLibrarySource</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-231"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;instrument_platform&quot;</span></span><span>        </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sInstrumentPlatform"><span class="hs-identifier hs-var hs-var">sInstrumentPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-232"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_name&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryName"><span class="hs-identifier hs-var hs-var">sLibraryName</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-233"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;library_strategy&quot;</span></span><span>           </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sLibraryStrategy"><span class="hs-identifier hs-var hs-var">sLibraryStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-234"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_ftp&quot;</span></span><span>                  </span><span class="annot"><span class="annottext">Field -&gt; Maybe JURI -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sFastqFTP"><span class="hs-identifier hs-var hs-var">sFastqFTP</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-235"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_aspera&quot;</span></span><span>               </span><span class="annot"><span class="annottext">Field -&gt; Maybe JURI -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sFastqASPERA"><span class="hs-identifier hs-var hs-var">sFastqASPERA</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-236"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_bytes&quot;</span></span><span>                </span><span class="annot"><span class="annottext">Field -&gt; Maybe Integer -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe Integer
</span><a href="Poseidon.SequencingSource.html#sFastqBytes"><span class="hs-identifier hs-var hs-var">sFastqBytes</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;fastq_md5&quot;</span></span><span>                  </span><span class="annot"><span class="annottext">Field -&gt; Maybe String -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe String
</span><a href="Poseidon.SequencingSource.html#sFastqMD5"><span class="hs-identifier hs-var hs-var">sFastqMD5</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-238"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;read_count&quot;</span></span><span>                 </span><span class="annot"><span class="annottext">Field -&gt; Maybe Integer -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe Integer
</span><a href="Poseidon.SequencingSource.html#sReadCount"><span class="hs-identifier hs-var hs-var">sReadCount</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-239"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-string">&quot;submitted_ftp&quot;</span></span><span>              </span><span class="annot"><span class="annottext">Field -&gt; Maybe JURI -&gt; (Field, Field)
forall a. ToField a =&gt; Field -&gt; a -&gt; (Field, Field)
</span><span class="hs-operator hs-var">Csv..=</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Maybe JURI
</span><a href="Poseidon.SequencingSource.html#sSubmittedFTP"><span class="hs-identifier hs-var hs-var">sSubmittedFTP</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-comment">-- beyond that add what is in the hashmap of additional columns</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HashMap Field Field -&gt; HashMap Field Field -&gt; HashMap Field Field
forall k v.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-operator hs-var">`HM.union`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CsvNamedRecord -&gt; HashMap Field Field
</span><a href="Poseidon.Janno.html#getCsvNR"><span class="hs-identifier hs-var">getCsvNR</span></a></span><span> </span><span class="annot"><span class="annottext">(CsvNamedRecord -&gt; HashMap Field Field)
-&gt; CsvNamedRecord -&gt; HashMap Field Field
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var hs-var">sAdditionalColumns</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172057"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-- | A function to write one seqSourceFile</span><span>
</span><span id="line-244"></span><span class="annot"><a href="Poseidon.SequencingSource.html#writeSeqSourceFile"><span class="hs-identifier hs-type">writeSeqSourceFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span id="writeSeqSourceFile"><span class="annot"><span class="annottext">writeSeqSourceFile :: String -&gt; SeqSourceRows -&gt; IO ()
</span><a href="Poseidon.SequencingSource.html#writeSeqSourceFile"><span class="hs-identifier hs-var hs-var">writeSeqSourceFile</span></a></span></span><span> </span><span id="local-6989586621679172052"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172052"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span id="local-6989586621679172051"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172051"><span class="hs-identifier hs-var">rows</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172050"><span class="annot"><span class="annottext">seqSourceAsBytestring :: ByteString
</span><a href="#local-6989586621679172050"><span class="hs-identifier hs-var hs-var">seqSourceAsBytestring</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EncodeOptions -&gt; Header -&gt; [SeqSourceRow] -&gt; ByteString
forall a.
ToNamedRecord a =&gt;
EncodeOptions -&gt; Header -&gt; [a] -&gt; ByteString
</span><span class="hs-identifier hs-var">Csv.encodeByNameWith</span></span><span> </span><span class="annot"><span class="annottext">EncodeOptions
</span><a href="Poseidon.Janno.html#encodingOptions"><span class="hs-identifier hs-var">encodingOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Header
</span><a href="#local-6989586621679172048"><span class="hs-identifier hs-var">makeHeaderWithAdditionalColumns</span></a></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172051"><span class="hs-identifier hs-var">rows</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172047"><span class="annot"><span class="annottext">seqSourceAsBytestringwithNA :: ByteString
</span><a href="#local-6989586621679172047"><span class="hs-identifier hs-var hs-var">seqSourceAsBytestringwithNA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Poseidon.Janno.html#explicitNA"><span class="hs-identifier hs-var">explicitNA</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172050"><span class="hs-identifier hs-var">seqSourceAsBytestring</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">Bch.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172052"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172047"><span class="hs-identifier hs-var">seqSourceAsBytestringwithNA</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>        </span><span class="annot"><a href="#local-6989586621679172048"><span class="hs-identifier hs-type">makeHeaderWithAdditionalColumns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Csv.Header</span></span><span>
</span><span id="line-251"></span><span>        </span><span id="local-6989586621679172048"><span class="annot"><span class="annottext">makeHeaderWithAdditionalColumns :: Header
</span><a href="#local-6989586621679172048"><span class="hs-identifier hs-var hs-var">makeHeaderWithAdditionalColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-252"></span><span>            </span><span class="annot"><span class="annottext">[Field] -&gt; Header
forall a. [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.fromList</span></span><span> </span><span class="annot"><span class="annottext">([Field] -&gt; Header) -&gt; [Field] -&gt; Header
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="Poseidon.SequencingSource.html#seqSourceHeader"><span class="hs-identifier hs-var">seqSourceHeader</span></a></span><span> </span><span class="annot"><span class="annottext">[Field] -&gt; [Field] -&gt; [Field]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Field] -&gt; [Field]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sort</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Field Field -&gt; [Field]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">HM.keys</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HashMap Field Field] -&gt; HashMap Field Field
forall k v. (Eq k, Hashable k) =&gt; [HashMap k v] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HM.unions</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; HashMap Field Field)
-&gt; [SeqSourceRow] -&gt; [HashMap Field Field]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CsvNamedRecord -&gt; HashMap Field Field
</span><a href="Poseidon.Janno.html#getCsvNR"><span class="hs-identifier hs-var">getCsvNR</span></a></span><span> </span><span class="annot"><span class="annottext">(CsvNamedRecord -&gt; HashMap Field Field)
-&gt; (SeqSourceRow -&gt; CsvNamedRecord)
-&gt; SeqSourceRow
-&gt; HashMap Field Field
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; CsvNamedRecord
</span><a href="Poseidon.SequencingSource.html#sAdditionalColumns"><span class="hs-identifier hs-var hs-var">sAdditionalColumns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679172051"><span class="hs-identifier hs-var">rows</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- | A function to read one seqSourceFile</span><span>
</span><span id="line-255"></span><span class="annot"><a href="Poseidon.SequencingSource.html#readSeqSourceFile"><span class="hs-identifier hs-type">readSeqSourceFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonIO"><span class="hs-identifier hs-type">PoseidonIO</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span>
</span><span id="line-256"></span><span id="readSeqSourceFile"><span class="annot"><span class="annottext">readSeqSourceFile :: String -&gt; PoseidonIO SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#readSeqSourceFile"><span class="hs-identifier hs-var hs-var">readSeqSourceFile</span></a></span></span><span> </span><span id="local-6989586621679172043"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PoseidonIO ()
</span><a href="Poseidon.Utils.html#logDebug"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PoseidonIO ()) -&gt; String -&gt; PoseidonIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Reading: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679172042"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172042"><span class="hs-identifier hs-var">seqSourceFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ByteString -&gt; ReaderT Env IO ByteString
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO ByteString -&gt; ReaderT Env IO ByteString)
-&gt; IO ByteString -&gt; ReaderT Env IO ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ByteString
</span><span class="hs-identifier hs-var">Bch.readFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172040"><span class="annot"><span class="annottext">seqSourceFileRows :: [ByteString]
</span><a href="#local-6989586621679172040"><span class="hs-identifier hs-var hs-var">seqSourceFileRows</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><span class="hs-identifier hs-var">Bch.lines</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172042"><span class="hs-identifier hs-var">seqSourceFile</span></a></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PoseidonIO () -&gt; PoseidonIO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679172040"><span class="hs-identifier hs-var">seqSourceFileRows</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PoseidonIO () -&gt; PoseidonIO ()) -&gt; PoseidonIO () -&gt; PoseidonIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; PoseidonIO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; PoseidonIO ()) -&gt; IO () -&gt; PoseidonIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; IO ()
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonException -&gt; IO ()) -&gt; PoseidonException -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; PoseidonException
</span><a href="Poseidon.Utils.html#PoseidonFileConsistencyException"><span class="hs-identifier hs-var">PoseidonFileConsistencyException</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;File has less than two lines&quot;</span></span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PoseidonIO ()
</span><a href="Poseidon.Utils.html#logDebug"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PoseidonIO ()) -&gt; String -&gt; PoseidonIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679172040"><span class="hs-identifier hs-var">seqSourceFileRows</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; Accession IDs in this file&quot;</span></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-comment">-- tupel with row number and row bytestring</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172035"><span class="annot"><span class="annottext">seqSourceFileRowsWithNumber :: [(Int, ByteString)]
</span><a href="#local-6989586621679172035"><span class="hs-identifier hs-var hs-var">seqSourceFileRowsWithNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [ByteString] -&gt; [(Int, ByteString)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679172040"><span class="hs-identifier hs-var">seqSourceFileRows</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679172040"><span class="hs-identifier hs-var">seqSourceFileRows</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-comment">-- filter out empty lines</span><span>
</span><span id="line-265"></span><span>        </span><span id="local-6989586621679172034"><span class="annot"><span class="annottext">seqSourceFileRowsWithNumberFiltered :: [(Int, ByteString)]
</span><a href="#local-6989586621679172034"><span class="hs-identifier hs-var hs-var">seqSourceFileRowsWithNumberFiltered</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, ByteString) -&gt; Bool)
-&gt; [(Int, ByteString)] -&gt; [(Int, ByteString)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172033"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172033"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172033"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier hs-var">Bch.empty</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)]
</span><a href="#local-6989586621679172035"><span class="hs-identifier hs-var">seqSourceFileRowsWithNumber</span></a></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- create header + individual line combination</span><span>
</span><span id="line-267"></span><span>        </span><span id="local-6989586621679172030"><span class="annot"><span class="annottext">headerOnlyPotentiallyWithQuotes :: ByteString
</span><a href="#local-6989586621679172030"><span class="hs-identifier hs-var hs-var">headerOnlyPotentiallyWithQuotes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int, ByteString) -&gt; ByteString
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Int, ByteString) -&gt; ByteString)
-&gt; (Int, ByteString) -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)] -&gt; (Int, ByteString)
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)]
</span><a href="#local-6989586621679172034"><span class="hs-identifier hs-var">seqSourceFileRowsWithNumberFiltered</span></a></span><span>
</span><span id="line-268"></span><span>        </span><span id="local-6989586621679172028"><span class="annot"><span class="annottext">headerOnly :: ByteString
</span><a href="#local-6989586621679172028"><span class="hs-identifier hs-var hs-var">headerOnly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">Bch.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&quot;'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172030"><span class="hs-identifier hs-var">headerOnlyPotentiallyWithQuotes</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span id="local-6989586621679172026"><span class="annot"><span class="annottext">rowsOnly :: [(Int, ByteString)]
</span><a href="#local-6989586621679172026"><span class="hs-identifier hs-var hs-var">rowsOnly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)] -&gt; [(Int, ByteString)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)]
</span><a href="#local-6989586621679172034"><span class="hs-identifier hs-var">seqSourceFileRowsWithNumberFiltered</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621679172024"><span class="annot"><span class="annottext">seqSourceFileRowsWithHeader :: [(Int, ByteString)]
</span><a href="#local-6989586621679172024"><span class="hs-identifier hs-var hs-var">seqSourceFileRowsWithHeader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, ByteString) -&gt; (Int, ByteString))
-&gt; [(Int, ByteString)] -&gt; [(Int, ByteString)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Int, ByteString) -&gt; (Int, ByteString)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679172023"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172023"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172028"><span class="hs-identifier hs-var">headerOnly</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172023"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)]
</span><a href="#local-6989586621679172026"><span class="hs-identifier hs-var">rowsOnly</span></a></span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-comment">-- read seqSourceFile by rows</span><span>
</span><span id="line-272"></span><span>    </span><span id="local-6989586621679172022"><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow]
</span><a href="#local-6989586621679172022"><span class="hs-identifier hs-var">seqSourceRepresentation</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Int, ByteString)
 -&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow))
-&gt; [(Int, ByteString)]
-&gt; ReaderT Env IO [Either PoseidonException SeqSourceRow]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Int, ByteString)
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
</span><a href="Poseidon.SequencingSource.html#readSeqSourceFileRow"><span class="hs-identifier hs-var">readSeqSourceFileRow</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, ByteString)]
</span><a href="#local-6989586621679172024"><span class="hs-identifier hs-var">seqSourceFileRowsWithHeader</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-comment">-- error case management</span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PoseidonException] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow] -&gt; [PoseidonException]
forall a b. [Either a b] -&gt; [a]
</span><span class="hs-identifier hs-var">lefts</span></span><span> </span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow]
</span><a href="#local-6989586621679172022"><span class="hs-identifier hs-var">seqSourceRepresentation</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-276"></span><span>        </span><span class="annot"><span class="annottext">(PoseidonException -&gt; PoseidonIO ())
-&gt; [PoseidonException] -&gt; PoseidonIO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PoseidonIO ()
</span><a href="Poseidon.Utils.html#logDebug"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PoseidonIO ())
-&gt; (PoseidonException -&gt; String)
-&gt; PoseidonException
-&gt; PoseidonIO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; String
</span><a href="Poseidon.Utils.html#renderPoseidonException"><span class="hs-identifier hs-var">renderPoseidonException</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([PoseidonException] -&gt; PoseidonIO ())
-&gt; [PoseidonException] -&gt; PoseidonIO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [PoseidonException] -&gt; [PoseidonException]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">([PoseidonException] -&gt; [PoseidonException])
-&gt; [PoseidonException] -&gt; [PoseidonException]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow] -&gt; [PoseidonException]
forall a b. [Either a b] -&gt; [a]
</span><span class="hs-identifier hs-var">lefts</span></span><span> </span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow]
</span><a href="#local-6989586621679172022"><span class="hs-identifier hs-var">seqSourceRepresentation</span></a></span><span>
</span><span id="line-277"></span><span>        </span><span class="annot"><span class="annottext">IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows)
-&gt; IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; IO SeqSourceRows
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonException -&gt; IO SeqSourceRows)
-&gt; PoseidonException -&gt; IO SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; PoseidonException
</span><a href="Poseidon.Utils.html#PoseidonFileConsistencyException"><span class="hs-identifier hs-var">PoseidonFileConsistencyException</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Broken lines. See more details with --logMode VerboseLog&quot;</span></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679172015"><span class="annot"><span class="annottext">consistentSeqSource :: Either PoseidonException SeqSourceRows
</span><a href="#local-6989586621679172015"><span class="hs-identifier hs-var hs-var">consistentSeqSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SeqSourceRows -&gt; Either PoseidonException SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#checkSeqSourceConsistency"><span class="hs-identifier hs-var">checkSeqSourceConsistency</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172043"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">(SeqSourceRows -&gt; Either PoseidonException SeqSourceRows)
-&gt; SeqSourceRows -&gt; Either PoseidonException SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-var">SeqSourceRows</span></a></span><span> </span><span class="annot"><span class="annottext">([SeqSourceRow] -&gt; SeqSourceRows)
-&gt; [SeqSourceRow] -&gt; SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow] -&gt; [SeqSourceRow]
forall a b. [Either a b] -&gt; [b]
</span><span class="hs-identifier hs-var">rights</span></span><span> </span><span class="annot"><span class="annottext">[Either PoseidonException SeqSourceRow]
</span><a href="#local-6989586621679172022"><span class="hs-identifier hs-var">seqSourceRepresentation</span></a></span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either PoseidonException SeqSourceRows
</span><a href="#local-6989586621679172015"><span class="hs-identifier hs-var">consistentSeqSource</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-281"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679172013"><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679172013"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows)
-&gt; IO SeqSourceRows -&gt; PoseidonIO SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; IO SeqSourceRows
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">throwIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679172013"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonException"><span class="hs-identifier hs-type">PoseidonException</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679172012"><span class="annot"><span class="annottext">SeqSourceRows
</span><a href="#local-6989586621679172012"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">SeqSourceRows -&gt; PoseidonIO SeqSourceRows
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows
</span><a href="#local-6989586621679172012"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- | A function to read one row of a seqSourceFile</span><span>
</span><span id="line-285"></span><span class="annot"><a href="Poseidon.SequencingSource.html#readSeqSourceFileRow"><span class="hs-identifier hs-type">readSeqSourceFileRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bch.ByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonIO"><span class="hs-identifier hs-type">PoseidonIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonException"><span class="hs-identifier hs-type">PoseidonException</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span id="readSeqSourceFileRow"><span class="annot"><span class="annottext">readSeqSourceFileRow :: String
-&gt; (Int, ByteString)
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
</span><a href="Poseidon.SequencingSource.html#readSeqSourceFileRow"><span class="hs-identifier hs-var hs-var">readSeqSourceFileRow</span></a></span></span><span> </span><span id="local-6989586621679172011"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172011"><span class="hs-identifier hs-var">seqSourcePath</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172010"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679172010"><span class="hs-identifier hs-var">lineNumber</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172009"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172009"><span class="hs-identifier hs-var">row</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DecodeOptions
-&gt; ByteString -&gt; Either String (Header, Vector SeqSourceRow)
forall a.
FromNamedRecord a =&gt;
DecodeOptions -&gt; ByteString -&gt; Either String (Header, Vector a)
</span><span class="hs-identifier hs-var">Csv.decodeByNameWith</span></span><span> </span><span class="annot"><span class="annottext">DecodeOptions
</span><a href="Poseidon.Janno.html#decodingOptions"><span class="hs-identifier hs-var">decodingOptions</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679172009"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679172007"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172007"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-289"></span><span>            </span><span class="annot"><span class="annottext">Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PoseidonException SeqSourceRow
 -&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow))
-&gt; Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; Either PoseidonException SeqSourceRow
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonException -&gt; Either PoseidonException SeqSourceRow)
-&gt; PoseidonException -&gt; Either PoseidonException SeqSourceRow
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; String -&gt; PoseidonException
</span><a href="Poseidon.Utils.html#PoseidonFileRowException"><span class="hs-identifier hs-var">PoseidonFileRowException</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172011"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679172010"><span class="hs-identifier hs-var">lineNumber</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PoseidonException) -&gt; String -&gt; PoseidonException
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Poseidon.Janno.html#removeUselessSuffix"><span class="hs-identifier hs-var">removeUselessSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172007"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679172005"><span class="annot"><span class="annottext">Vector SeqSourceRow
</span><a href="#local-6989586621679172005"><span class="hs-identifier hs-var">seqSourceRow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-291"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
-&gt; Int -&gt; SeqSourceRow -&gt; Either PoseidonException SeqSourceRow
</span><a href="Poseidon.SequencingSource.html#checkSeqSourceRowConsistency"><span class="hs-identifier hs-var">checkSeqSourceRowConsistency</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172011"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679172010"><span class="hs-identifier hs-var">lineNumber</span></a></span><span> </span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; Either PoseidonException SeqSourceRow)
-&gt; SeqSourceRow -&gt; Either PoseidonException SeqSourceRow
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Vector SeqSourceRow -&gt; SeqSourceRow
forall a. Vector a -&gt; a
</span><span class="hs-identifier hs-var">V.head</span></span><span> </span><span class="annot"><span class="annottext">Vector SeqSourceRow
</span><a href="#local-6989586621679172005"><span class="hs-identifier hs-var">seqSourceRow</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-292"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679172002"><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679172002"><span class="hs-identifier hs-var">e</span></a></span></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PoseidonException SeqSourceRow
 -&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow))
-&gt; Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; Either PoseidonException SeqSourceRow
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">PoseidonException
</span><a href="#local-6989586621679172002"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-293"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679172001"><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172001"><span class="hs-identifier hs-var">pS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PoseidonException SeqSourceRow
 -&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow))
-&gt; Either PoseidonException SeqSourceRow
-&gt; ReaderT Env IO (Either PoseidonException SeqSourceRow)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Either PoseidonException SeqSourceRow
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679172001"><span class="hs-identifier hs-var">pS</span></a></span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-comment">-- SeqSource consistency checks</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="Poseidon.SequencingSource.html#checkSeqSourceConsistency"><span class="hs-identifier hs-type">checkSeqSourceConsistency</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonException"><span class="hs-identifier hs-type">PoseidonException</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span>
</span><span id="line-298"></span><span id="checkSeqSourceConsistency"><span class="annot"><span class="annottext">checkSeqSourceConsistency :: String -&gt; SeqSourceRows -&gt; Either PoseidonException SeqSourceRows
</span><a href="Poseidon.SequencingSource.html#checkSeqSourceConsistency"><span class="hs-identifier hs-var hs-var">checkSeqSourceConsistency</span></a></span></span><span> </span><span id="local-6989586621679172000"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172000"><span class="hs-identifier hs-var">seqSourcePath</span></a></span></span><span> </span><span id="local-6989586621679171999"><span class="annot"><span class="annottext">SeqSourceRows
</span><a href="#local-6989586621679171999"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows -&gt; Bool
</span><a href="Poseidon.SequencingSource.html#checkSamplesUnique"><span class="hs-identifier hs-var">checkSamplesUnique</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows
</span><a href="#local-6989586621679171999"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; Either PoseidonException SeqSourceRows
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonException -&gt; Either PoseidonException SeqSourceRows)
-&gt; PoseidonException -&gt; Either PoseidonException SeqSourceRows
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; PoseidonException
</span><a href="Poseidon.Utils.html#PoseidonFileConsistencyException"><span class="hs-identifier hs-var">PoseidonFileConsistencyException</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679172000"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The values in the sample_accession column are not unique&quot;</span></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeqSourceRows -&gt; Either PoseidonException SeqSourceRows
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRows
</span><a href="#local-6989586621679171999"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="annot"><a href="Poseidon.SequencingSource.html#checkSamplesUnique"><span class="hs-identifier hs-type">checkSamplesUnique</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-304"></span><span id="checkSamplesUnique"><span class="annot"><span class="annottext">checkSamplesUnique :: SeqSourceRows -&gt; Bool
</span><a href="Poseidon.SequencingSource.html#checkSamplesUnique"><span class="hs-identifier hs-var hs-var">checkSamplesUnique</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRows"><span class="hs-identifier hs-type">SeqSourceRows</span></a></span><span> </span><span id="local-6989586621679171997"><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679171997"><span class="hs-identifier hs-var">rows</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679171997"><span class="hs-identifier hs-var">rows</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[AccessionID] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AccessionID] -&gt; [AccessionID]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">([AccessionID] -&gt; [AccessionID]) -&gt; [AccessionID] -&gt; [AccessionID]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; AccessionID) -&gt; [SeqSourceRow] -&gt; [AccessionID]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; AccessionID
</span><a href="Poseidon.SequencingSource.html#sGeneticSourceAccessionIDs"><span class="hs-identifier hs-var hs-var">sGeneticSourceAccessionIDs</span></a></span><span> </span><span class="annot"><span class="annottext">[SeqSourceRow]
</span><a href="#local-6989586621679171997"><span class="hs-identifier hs-var">rows</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="annot"><a href="Poseidon.SequencingSource.html#checkSeqSourceRowConsistency"><span class="hs-identifier hs-type">checkSeqSourceRowConsistency</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Poseidon.Utils.html#PoseidonException"><span class="hs-identifier hs-type">PoseidonException</span></a></span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span>
</span><span id="line-307"></span><span id="checkSeqSourceRowConsistency"><span class="annot"><span class="annottext">checkSeqSourceRowConsistency :: String
-&gt; Int -&gt; SeqSourceRow -&gt; Either PoseidonException SeqSourceRow
</span><a href="Poseidon.SequencingSource.html#checkSeqSourceRowConsistency"><span class="hs-identifier hs-var hs-var">checkSeqSourceRowConsistency</span></a></span></span><span> </span><span id="local-6989586621679171996"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171996"><span class="hs-identifier hs-var">seqSourcePath</span></a></span></span><span> </span><span id="local-6989586621679171995"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171995"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679171994"><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171994"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Bool
</span><a href="Poseidon.SequencingSource.html#checkMandatoryNotEmpty"><span class="hs-identifier hs-var">checkMandatoryNotEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171994"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PoseidonException -&gt; Either PoseidonException SeqSourceRow
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(PoseidonException -&gt; Either PoseidonException SeqSourceRow)
-&gt; PoseidonException -&gt; Either PoseidonException SeqSourceRow
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; String -&gt; PoseidonException
</span><a href="Poseidon.Utils.html#PoseidonFileRowException"><span class="hs-identifier hs-var">PoseidonFileRowException</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171996"><span class="hs-identifier hs-var">seqSourcePath</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171995"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-309"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The mandatory column Poseidon_ID contains empty values&quot;</span></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; Either PoseidonException SeqSourceRow
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171994"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="annot"><a href="Poseidon.SequencingSource.html#checkMandatoryNotEmpty"><span class="hs-identifier hs-type">checkMandatoryNotEmpty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Poseidon.SequencingSource.html#SeqSourceRow"><span class="hs-identifier hs-type">SeqSourceRow</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-313"></span><span id="checkMandatoryNotEmpty"><span class="annot"><span class="annottext">checkMandatoryNotEmpty :: SeqSourceRow -&gt; Bool
</span><a href="Poseidon.SequencingSource.html#checkMandatoryNotEmpty"><span class="hs-identifier hs-var hs-var">checkMandatoryNotEmpty</span></a></span></span><span> </span><span id="local-6989586621679171992"><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171992"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-314"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (SeqSourceRow -&gt; Bool) -&gt; SeqSourceRow -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Bool)
-&gt; (SeqSourceRow -&gt; [String]) -&gt; SeqSourceRow -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">JannoStringList -&gt; [String]
forall a. JannoList a -&gt; [a]
</span><a href="Poseidon.Janno.html#getJannoList"><span class="hs-identifier hs-var hs-var">getJannoList</span></a></span><span> </span><span class="annot"><span class="annottext">(JannoStringList -&gt; [String])
-&gt; (SeqSourceRow -&gt; JannoStringList) -&gt; SeqSourceRow -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; JannoStringList
</span><a href="Poseidon.SequencingSource.html#sPoseidonID"><span class="hs-identifier hs-var hs-var">sPoseidonID</span></a></span><span> </span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; Bool) -&gt; SeqSourceRow -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171992"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (SeqSourceRow -&gt; Bool) -&gt; SeqSourceRow -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool)
-&gt; (SeqSourceRow -&gt; String) -&gt; SeqSourceRow -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String)
-&gt; (SeqSourceRow -&gt; [String]) -&gt; SeqSourceRow -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">JannoStringList -&gt; [String]
forall a. JannoList a -&gt; [a]
</span><a href="Poseidon.Janno.html#getJannoList"><span class="hs-identifier hs-var hs-var">getJannoList</span></a></span><span> </span><span class="annot"><span class="annottext">(JannoStringList -&gt; [String])
-&gt; (SeqSourceRow -&gt; JannoStringList) -&gt; SeqSourceRow -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow -&gt; JannoStringList
</span><a href="Poseidon.SequencingSource.html#sPoseidonID"><span class="hs-identifier hs-var hs-var">sPoseidonID</span></a></span><span> </span><span class="annot"><span class="annottext">(SeqSourceRow -&gt; Bool) -&gt; SeqSourceRow -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SeqSourceRow
</span><a href="#local-6989586621679171992"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span></pre></body></html>